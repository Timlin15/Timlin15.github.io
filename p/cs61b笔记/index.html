<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <script type="application/javascript" src='https://Timlin15.github.io/js/theme-mode.js'></script>
    <link rel="stylesheet" href='https://Timlin15.github.io/css/frameworks.min.css' />
    <link rel="stylesheet" href='https://Timlin15.github.io/css/github.min.css' />
    <link rel="stylesheet" href='https://Timlin15.github.io/css/github-style.css' />
    <link rel="stylesheet" href='https://Timlin15.github.io/css/light.css' />
    <link rel="stylesheet" href='https://Timlin15.github.io/css/dark.css' />
    <link rel="stylesheet" href='https://Timlin15.github.io/css/syntax.css' />
    <title>CS61B笔记 - 知言的博客</title>
    
    <link rel="icon" type="image/x-icon" href='/images/favion.ico'>
    
    <meta name="theme-color" content="#1e2327">

    
    

    
    <meta name="description"
  content="the note of UCB CS61B 1 2 3 4 5 6 7 8 ----------------- &lt; CS61B is so fun! &gt; ----------------- \ ^__^ \ (oo)\_______ (__)\ )\/\ ||----w | || || QUOTE Computer science is essentially about one thing: Managing complexity. ——proj0
redundancy is one our worst enemies when battling complexity! ——proj1
" />
<meta name="keywords"
  content='' />
<meta name="robots" content="noodp" />
<link rel="canonical" href="https://Timlin15.github.io/p/cs61b%E7%AC%94%E8%AE%B0/" />


<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="CS61B笔记 - 知言的博客" />
<meta name="twitter:description"
  content="the note of UCB CS61B 1 2 3 4 5 6 7 8 ----------------- &lt; CS61B is so fun! &gt; ----------------- \ ^__^ \ (oo)\_______ (__)\ )\/\ ||----w | || || QUOTE Computer science is essentially about one thing: Managing complexity. ——proj0
redundancy is one our worst enemies when battling complexity! ——proj1
" />
<meta name="twitter:site" content="https://Timlin15.github.io/" />
<meta name="twitter:creator" content="" />
<meta name="twitter:image"
  content="https://Timlin15.github.io/">


<meta property="og:type" content="article" />
<meta property="og:title" content="CS61B笔记 - 知言的博客">
<meta property="og:description"
  content="the note of UCB CS61B 1 2 3 4 5 6 7 8 ----------------- &lt; CS61B is so fun! &gt; ----------------- \ ^__^ \ (oo)\_______ (__)\ )\/\ ||----w | || || QUOTE Computer science is essentially about one thing: Managing complexity. ——proj0
redundancy is one our worst enemies when battling complexity! ——proj1
" />
<meta property="og:url" content="https://Timlin15.github.io/p/cs61b%E7%AC%94%E8%AE%B0/" />
<meta property="og:site_name" content="CS61B笔记" />
<meta property="og:image"
  content="https://Timlin15.github.io/">
<meta property="og:image:width" content="2048">
<meta property="og:image:height" content="1024">

<meta property="article:published_time" content="2025-01-14 11:19:48 &#43;0800 CST" />











</head>


<body>
  <div style="position: relative">
  <header class="Header js-details-container Details px-3 px-md-4 px-lg-5 flex-wrap flex-md-nowrap open Details--on">
    <div class="Header-item mobile-none" style="margin-top: -4px; margin-bottom: -4px;">
      <a class="Header-link" href="https://Timlin15.github.io/">
        <img class="octicon" height="32" width="32" src="/images/ava.png">
      </a>
    </div>
    <div class="Header-item d-md-none">
      <button class="Header-link btn-link js-details-target" type="button"
        onclick="document.querySelector('#header-search').style.display = document.querySelector('#header-search').style.display == 'none'? 'block': 'none'">
        <svg height="24" class="octicon octicon-three-bars" viewBox="0 0 16 16" version="1.1" width="24">
          <path fill-rule="evenodd" d="M1 2.75A.75.75 0 011.75 2h12.5a.75.75 0 110 1.5H1.75A.75.75 0 011 2.75zm0 5A.75.75 0 011.75 7h12.5a.75.75 0 110 1.5H1.75A.75.75 0 011 7.75zM1.75 12a.75.75 0 100 1.5h12.5a.75.75 0 100-1.5H1.75z">
          </path>
        </svg>
      </button>
    </div>
    <div style="display: none;" id="header-search"
      class="Header-item Header-item--full flex-column flex-md-row width-full flex-order-2 flex-md-order-none mr-0 mr-md-3 mt-3 mt-md-0 Details-content--hidden-not-important d-md-flex">
      <div
        class="Header-search header-search flex-auto js-site-search position-relative flex-self-stretch flex-md-self-auto mb-3 mb-md-0 mr-0 mr-md-3 scoped-search site-scoped-search js-jump-to">
        <div class="position-relative">
          
          <form target="_blank" id="search-form" action="" accept-charset="UTF-8" method="get"
            autocomplete="off">
            <label
              class="Header-search-label form-control input-sm header-search-wrapper p-0 js-chromeless-input-container header-search-wrapper-jump-to position-relative d-flex flex-justify-between flex-items-center">
              <input type="text"
                class="Header-search-input form-control input-sm header-search-input jump-to-field js-jump-to-field js-site-search-focus js-site-search-field is-clearable"
                name="q" value="" placeholder="Search" autocomplete="off">
            </label>
          </form>
          
        </div>
      </div>
    </div>

    <div class="Header-item Header-item--full flex-justify-center d-md-none position-relative">
      <a class="Header-link " href="https://Timlin15.github.io/">
        <img class="octicon octicon-mark-github v-align-middle" height="32" width="32" src="/images/ava.png">
      </a>
    </div>
    <div class="Header-item" style="margin-right: 0;">
      <a href="javascript:void(0)" class="Header-link no-select" onclick="switchTheme()">
        <svg style="fill: var(--color-profile-color-modes-toggle-moon);" class="no-select" viewBox="0 0 16 16"
          version="1.1" width="16" height="16">
          <path fill-rule="evenodd" clip-rule="evenodd"
            d="M4.52208 7.71754C7.5782 7.71754 10.0557 5.24006 10.0557 2.18394C10.0557 1.93498 10.0392 1.68986 10.0074 1.44961C9.95801 1.07727 10.3495 0.771159 10.6474 0.99992C12.1153 2.12716 13.0615 3.89999 13.0615 5.89383C13.0615 9.29958 10.3006 12.0605 6.89485 12.0605C3.95334 12.0605 1.49286 10.001 0.876728 7.24527C0.794841 6.87902 1.23668 6.65289 1.55321 6.85451C2.41106 7.40095 3.4296 7.71754 4.52208 7.71754Z">
          </path>
        </svg>
      </a>
    </div>
  </header>
</div>

  <div id="search-result" class="container-lg px-3 new-discussion-timeline" style="display: none;">
</div>

  
<div class="application-main">
  <div>
  <main>
    <div class="gisthead pagehead bg-gray-light pb-0 pt-3 mb-4">
      <div class="px-0">
        <div class="mb-3 d-flex px-3 px-md-3 px-lg-5">
          <div class="flex-auto min-width-0 width-fit mr-3">
            <div class="d-flex">
              <div class="d-none d-md-block">
                <a class="avatar mr-2 flex-shrink-0" href="https://Timlin15.github.io/">
                  <img class=" avatar-user"
                    src="/images/ava.png"
                    width="32" height="32"></a>
              </div>
              <div class="d-flex flex-column">
                <h1 class="break-word f3 text-normal mb-md-0 mb-1">
                  <span class="author">
                    <a href="https://Timlin15.github.io/">知言</a>
                  </span>
                  <span class="path-divider">/</span>
                  <strong class="css-truncate css-truncate-target mr-1" style="max-width: 410px">
                    <a href="https://Timlin15.github.io/p/cs61b%E7%AC%94%E8%AE%B0/">CS61B笔记</a>
                  </strong>
                </h1>
                <div class="note m-0">
                  Created <relative-time datetime="Tue, 14 Jan 2025 11:19:48 &#43;0800"
                    class="no-wrap">
                    Tue, 14 Jan 2025 11:19:48 &#43;0800</relative-time>

                  
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="container-lg px-3 new-discussion-timeline">
      <div class="repository-content gist-content">
        <div>
          <div class="js-gist-file-update-container js-task-list-container file-box">
            <div id="file-pytest" class="file my-2">
              <div id="post-header" class="file-header d-flex flex-md-items-center flex-items-start sticky-header" style="z-index: 2">
                <div class="file-info d-flex flex-md-items-center flex-items-start flex-order-1 flex-auto">
                  <div class="text-mono f6 flex-auto pr-3 flex-order-2 flex-md-order-1 mt-2 mt-md-0">
                    
                    <summary id="toc-toggle" onclick="clickToc()" class="btn btn-octicon m-0 mr-2 p-2">
                      <svg aria-hidden="true" viewBox="0 0 16 16" height="16" width="16" class="octicon octicon-list-unordered">
                        <path fill-rule="evenodd" d="M2 4a1 1 0 100-2 1 1 0 000 2zm3.75-1.5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zm0 5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zm0 5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zM3 8a1 1 0 11-2 0 1 1 0 012 0zm-1 6a1 1 0 100-2 1 1 0 000 2z"></path>
                      </svg>
                    </summary>
                    <details-menu class="SelectMenu" id="toc-details" style="display: none;">
                      <div class="SelectMenu-modal rounded-3 mt-1" style="max-height: 340px;">
                        <div class="SelectMenu-list SelectMenu-list--borderless p-2" style="overscroll-behavior: contain;" id="toc-list">
                        </div>
                      </div>
                    </details-menu>
                      13368 Words
                    

                  </div>
                  <div class="file-actions flex-order-2 pt-0">
                    
                    
                    <a class="muted-link mr-3" href="/tags/algorithm">
                      <svg class="octicon octicon-tag" viewBox="0 0 16 16" version="1.1" width="16" height="16">
                        <path fill-rule="evenodd"
                          d="M2.5 7.775V2.75a.25.25 0 01.25-.25h5.025a.25.25 0 01.177.073l6.25 6.25a.25.25 0 010 .354l-5.025 5.025a.25.25 0 01-.354 0l-6.25-6.25a.25.25 0 01-.073-.177zm-1.5 0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 010 2.474l-5.026 5.026a1.75 1.75 0 01-2.474 0l-6.25-6.25A1.75 1.75 0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z">
                        </path>
                      </svg>
                      Algorithm
                    </a>
                    
                    <a class="muted-link mr-3" href="/tags/data-structure">
                      <svg class="octicon octicon-tag" viewBox="0 0 16 16" version="1.1" width="16" height="16">
                        <path fill-rule="evenodd"
                          d="M2.5 7.775V2.75a.25.25 0 01.25-.25h5.025a.25.25 0 01.177.073l6.25 6.25a.25.25 0 010 .354l-5.025 5.025a.25.25 0 01-.354 0l-6.25-6.25a.25.25 0 01-.073-.177zm-1.5 0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 010 2.474l-5.026 5.026a1.75 1.75 0 01-2.474 0l-6.25-6.25A1.75 1.75 0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z">
                        </path>
                      </svg>
                      Data Structure
                    </a>
                    
                    <a class="muted-link mr-3" href="/tags/cs">
                      <svg class="octicon octicon-tag" viewBox="0 0 16 16" version="1.1" width="16" height="16">
                        <path fill-rule="evenodd"
                          d="M2.5 7.775V2.75a.25.25 0 01.25-.25h5.025a.25.25 0 01.177.073l6.25 6.25a.25.25 0 010 .354l-5.025 5.025a.25.25 0 01-.354 0l-6.25-6.25a.25.25 0 01-.073-.177zm-1.5 0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 010 2.474l-5.026 5.026a1.75 1.75 0 01-2.474 0l-6.25-6.25A1.75 1.75 0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z">
                        </path>
                      </svg>
                      CS
                    </a>
                    
                    
                  </div>
                </div>
              </div>


              <div class="Box-body px-5 pb-5" style="z-index: 1">
                <article class="markdown-body entry-content container-lg"><h1 id="the-note-of-ucb-cs61b">the note of UCB CS61B</h1>
<hr>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"> -----------------
</span></span><span class="line"><span class="cl">&lt; CS61B is so fun! &gt;
</span></span><span class="line"><span class="cl"> -----------------
</span></span><span class="line"><span class="cl">        \   ^__^
</span></span><span class="line"><span class="cl">         \  (oo)\_______
</span></span><span class="line"><span class="cl">            (__)\       )\/\
</span></span><span class="line"><span class="cl">                ||----w |
</span></span><span class="line"><span class="cl">                ||     ||
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="quote">QUOTE</h2>
<blockquote>
<p>Computer science is essentially about one thing: Managing complexity. ——proj0</p>
<p>redundancy is one our worst enemies when battling complexity! ——proj1</p>
<p>If you are  going to be working for something, make sure that what you do actually benefits the world your interpretations——Justin</p>
</blockquote>
<hr>
<h2 id="syntax-knowledge">Syntax knowledge</h2>
<ol>
<li>Difference between <strong>Pass by Value</strong> and <strong>Pass by Reference</strong></li>
</ol>
<ul>
<li>most of the language&rsquo;s function is <strong>Pass by Value</strong>, including C, java, py, meaning they pass the value of parameters into function instead of reference</li>
<li>note: every data type in C except array is pass by value, for its value is its refrerence</li>
</ul>
<hr>
<h2 id="1-lab-3timing-test">1. Lab 3:Timing Test</h2>
<blockquote>
<p><a href="https://sp21.datastructur.es/materials/lab/lab3/lab3">The result of the timing test in Lab3</a></p>
</blockquote>
<h3 id="11-array-listsalistss-resizing">1.1 Array Lists(Alists)&rsquo;s resizing</h3>
<p>Alist</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-Java" data-lang="Java"><span class="line"><span class="cl"><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">IntList</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="kd">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">first</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="kd">public</span><span class="w"> </span><span class="n">IntList</span><span class="w"> </span><span class="n">rest</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="kd">public</span><span class="w"> </span><span class="nf">IntList</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">f</span><span class="p">,</span><span class="w"> </span><span class="n">IntList</span><span class="w"> </span><span class="n">r</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="n">first</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">f</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="n">rest</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">r</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>resizing</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-Java" data-lang="Java"><span class="line"><span class="cl"><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">addLast</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">size</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">items</span><span class="p">.</span><span class="na">length</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kt">int</span><span class="o">[]</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">int</span><span class="o">[</span><span class="n">size</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">1</span><span class="o">]</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">arraycopy</span><span class="p">(</span><span class="n">items</span><span class="p">,</span><span class="w"> </span><span class="n">0</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">0</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="p">;</span><span class="w">  	
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">items</span><span class="o">[</span><span class="n">size</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">size</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">1</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">//this only works, but no efficiency</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">resize</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">capacity</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="kt">int</span><span class="o">[]</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">int</span><span class="o">[</span><span class="n">capacity</span><span class="o">]</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">System</span><span class="p">.</span><span class="na">arraycopy</span><span class="p">(</span><span class="n">items</span><span class="p">,</span><span class="w"> </span><span class="n">0</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">0</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">addLast</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">size</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">items</span><span class="p">.</span><span class="na">length</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="n">resize</span><span class="p">(</span><span class="n">size</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">1</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">items</span><span class="o">[</span><span class="n">size</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">size</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">1</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">//and this shows a higher level of abtraction and encapsulation</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p><strong>However, using [size +1] may cause inefficiency.</strong> For example, resizing a alist from 100 to 1000 may need nearly 500,000 operations, for it need to create 100 to 1000 boxes respectively.</p>
<img src="/image-20241120225227559.png" alt="image-20241120225227559" style="zoom:25%;" />
<p>To fix this, using the multiply can lead to surprisingly great performance.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-Java" data-lang="Java"><span class="line"><span class="cl"><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">addLast</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">size</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">items</span><span class="p">.</span><span class="na">length</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="n">resize</span><span class="p">(</span><span class="n">size</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">RFACTOR</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">items</span><span class="o">[</span><span class="n">size</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">size</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">1</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// In fact, it is how python does to resize its list.</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="12-loitering">1.2 loitering</h3>
<ul>
<li>
<p>Java only destroys unwanted objects when the last reference has been lost.</p>
</li>
<li>
<p>Keeping references to unneeded objects is sometimes called loitering.</p>
</li>
</ul>
<p><strong>Save memory. Don’t loiter.</strong></p>
<h3 id="13obscurantism-in-java">1.3<strong>Obscurantism in Java</strong></h3>
<p>We talk of “layers of abstraction” often in computer science.</p>
<ul>
<li>Related concept: obscurantism. The user of a class does not and should not know how it works.
<ul>
<li>The Java language allows you to enforce this with ideas like <strong>private</strong>!</li>
</ul>
</li>
<li>A good programmer obscures details from themselves, even within a class.
<ul>
<li>Example: addFirst and resize should be written totally independently. You should not be thinking about the details of one method while writing the other. Simply trust that the other works.</li>
<li>Breaking programming tasks down into small pieces (especially functions) helps with this greatly!</li>
<li>Through judicious use of testing, we can build confidence in these small pieces, as we’ll see in the next lecture.</li>
</ul>
</li>
</ul>
<h3 id="14-conditional-breakpoint--execution-breakpoint">1.4 Conditional Breakpoint &amp; Execution Breakpoint</h3>
<ul>
<li>
<p>Right-click on your breakpoint and you’ll see a box pop up that says “Condition:”. In the box, type in what condition you want the code to stop.
<img src="/image-20241120212458406.png" alt="image-20241120212458406" style="zoom: 50%;" /></p>
</li>
<li>
<ol>
<li>
<p>click “Run -&gt; View Breakpoints”. You should see a window like this pop up:</p>
<img src="https://sp21.datastructur.es/materials/lab/lab3/img/breakpoints.png" alt="folder structure" style="zoom: 50%;" />
</li>
<li>
<p>Click on the checkbox on the left that says “any exception” and then click on that says “Condition:” and in the window and enter exactly:</p>
</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-Java" data-lang="Java"><span class="line"><span class="cl"><span class="k">this</span><span class="w"> </span><span class="k">instanceof</span><span class="w"> </span><span class="n">java</span><span class="p">.</span><span class="na">lang</span><span class="p">.</span><span class="na">ArrayIndexOutOfBoundsException</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div></li>
</ul>
<hr>
<h2 id="2project-1deque">2.Project 1:Deque</h2>
<h3 id="21-sllists">2.1 SLLists</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-Java" data-lang="Java"><span class="line"><span class="cl"><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">SLList</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="kd">public</span><span class="w"> </span><span class="n">IntNode</span><span class="w"> </span><span class="n">first</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="kd">private</span><span class="w"> </span><span class="nf">SLList</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="n">first</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IntNode</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="kc">null</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">addFirst</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">       </span><span class="n">first</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IntNode</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">first</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="kd">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">getFirst</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  	  </span><span class="k">return</span><span class="w"> </span><span class="n">first</span><span class="p">.</span><span class="na">item</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>Instead of using a naked recursion which user can gain free access to the variables in the middle of the list, SLList class act as a middle man between user  and raw data structure. It&rsquo;s a kind of <strong>encapsulation</strong>.</p>
<p>​					<img src="/image-20241120225700125.png" alt="image-20241120225700125" style="zoom: 50%;" /></p>
<img src="/image-20241120225713719.png" alt="image-20241120225713719" style="zoom:50%;" />
<h3 id="22-sentinel-nodes">2.2 Sentinel Nodes</h3>
<p>​	Notes:</p>
<ul>
<li>I’ve renamed first to be sentinel.</li>
<li>sentinel is never null, always points to sentinel node.</li>
<li>Sentinel node’s item needs to be some integer, but doesn’t matter what value we pick.</li>
<li>Had to fix constructors and methods to be compatible with sentinel nodes.</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-Java" data-lang="Java"><span class="line"><span class="cl"><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">addLast</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">size</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">1</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">//  if (sentinel == null) {</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">//    sentinel = new IntNode(x, null);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">//    return;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">//  }</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="cm">/** Don&#39;t need this anymore cuz the first is sentinel and it will not be null */</span><span class="w">    
</span></span></span><span class="line"><span class="cl"><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">IntNode</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sentinel</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">p</span><span class="p">.</span><span class="na">next</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="na">next</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">p</span><span class="p">.</span><span class="na">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IntNode</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="kc">null</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="23-class-variation-and-instance-variation">2.3 Class variation and Instance variation</h3>
<p>The first instance</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-Java" data-lang="Java"><span class="line"><span class="cl"><span class="kd">private</span><span class="w"> </span><span class="n">T</span><span class="o">[]</span><span class="w"> </span><span class="n">Array</span><span class="p">;</span><span class="w">  </span><span class="c1">// 声明成员变量，但不立即初始化</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="nf">ArrayDeque</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@SuppressWarnings</span><span class="p">(</span><span class="s">&#34;unchecked&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">T</span><span class="o">[]</span><span class="w"> </span><span class="n">Array</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">T</span><span class="o">[]</span><span class="p">)</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Object</span><span class="o">[</span><span class="n">8</span><span class="o">]</span><span class="p">;</span><span class="w">  </span><span class="c1">// 在构造函数中创建局部变量</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="na">Array</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Array</span><span class="p">;</span><span class="w">              </span><span class="c1">// 将局部变量赋值给成员变量</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">0</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>The second instance</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-Java" data-lang="Java"><span class="line"><span class="cl"><span class="nd">@SuppressWarnings</span><span class="p">(</span><span class="s">&#34;unchecked&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">private</span><span class="w"> </span><span class="n">T</span><span class="o">[]</span><span class="w"> </span><span class="n">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">T</span><span class="o">[]</span><span class="p">)</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Object</span><span class="o">[</span><span class="n">8</span><span class="o">]</span><span class="p">;</span><span class="w">  </span><span class="c1">// 直接初始化数组</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">private</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">size</span><span class="p">;</span><span class="w">                         </span><span class="c1">// 成员变量声明和初始化分开</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="nf">ArrayDeque</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">0</span><span class="p">;</span><span class="w">  </span><span class="c1">// 初始化其他成员变量</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><table>
  <thead>
      <tr>
          <th style="text-align: left"><strong>方面</strong></th>
          <th><strong>第一种方式</strong></th>
          <th><strong>第二种方式</strong></th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: left"><strong>数组初始化时机</strong></td>
          <td>在构造函数中完成</td>
          <td>在成员变量声明时完成</td>
      </tr>
      <tr>
          <td style="text-align: left"><strong>灵活性</strong></td>
          <td>高（可根据构造函数参数动态调整数组大小）</td>
          <td>低（数组大小固定为 <code>8</code>）</td>
      </tr>
      <tr>
          <td style="text-align: left"><strong>代码简洁性</strong></td>
          <td>较冗长，逻辑分散</td>
          <td>简洁直观，逻辑集中</td>
      </tr>
      <tr>
          <td style="text-align: left"><strong>规范性</strong></td>
          <td>命名不规范，可能混淆</td>
          <td>更加符合 Java 的常见命名规范</td>
      </tr>
      <tr>
          <td style="text-align: left"><strong>适用场景</strong></td>
          <td>需要动态初始化逻辑或多种初始化方案</td>
          <td>初始化逻辑固定且简单的场景</td>
      </tr>
  </tbody>
</table>
<hr>
<h2 id="3asymptotics渐进">3.Asymptotics(渐进)</h2>
<p>Efficiency comes in two flavors:</p>
<ul>
<li>Programming cost (course to date. Will also revisit later).
<ul>
<li>How long does it take to develop your programs?</li>
<li>How easy is it to read, modify, and maintain your code?
<ul>
<li>More important than you might think!</li>
<li>Majority of cost is in maintenance, not development!</li>
</ul>
</li>
</ul>
</li>
<li>Execution cost (from today until end of course).
<ul>
<li>How much time does your program take to execute?</li>
<li>How much memory does your program require?</li>
</ul>
</li>
</ul>
<p>But, how to compare the efficiency of different algorithm, in a <strong>simple</strong> and <strong>mathematically rigorous</strong>.</p>
<h3 id="31-asymptotic-behavior">3.1 <strong>Asymptotic Behavior</strong></h3>
<p>In most cases, we care only about <u>asymptotic behavior, i.e. what happens for very large N.</u></p>
<ul>
<li>
<p>Simulation of billions of interacting particles.</p>
</li>
<li>
<p>Social network with billions of users.</p>
</li>
<li>
<p>Logging of billions of transactions.</p>
</li>
<li>
<p>Encoding of billions of bytes of video data.</p>
<img src="/image-20241125230733031.png" alt="image-20241125230733031" style="zoom:67%;" />
</li>
</ul>
<h3 id="32-simplification-model">3.2 Simplification model</h3>
<p>for instance, consider this code which return whether an array contain two same number</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-Java" data-lang="Java"><span class="line"><span class="cl"><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">A</span><span class="p">.</span><span class="na">length</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="o">+</span><span class="n">1</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">A</span><span class="p">.</span><span class="na">length</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">A</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">A</span><span class="o">[</span><span class="n">j</span><span class="o">]</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">       </span><span class="k">return</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">return</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><table>
  <thead>
      <tr>
          <th>operation</th>
          <th>count</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>i = 0</td>
          <td>1</td>
      </tr>
      <tr>
          <td>j = i + 1</td>
          <td>1 to $N$</td>
      </tr>
      <tr>
          <td>less than (&lt;)</td>
          <td>2 to $(N^2+3N+2)/2$</td>
      </tr>
      <tr>
          <td>increment (+=1)</td>
          <td>0 to $(N^2+N)/2$</td>
      </tr>
      <tr>
          <td>equals (==)</td>
          <td>1 to $(N^2-N)/2$</td>
      </tr>
      <tr>
          <td>array accesses</td>
          <td>2 to $N^2-N$</td>
      </tr>
  </tbody>
</table>
<ul>
<li>
<p><strong>Simplification1: consider only the worse case</strong></p>
<ul>
<li><strong>Justification</strong>: When comparing algorithms, we often care only about the worst case [but we will see exceptions in this course].</li>
</ul>
</li>
<li>
<p><strong>Simplification 2: Restrict Attention to One Operation</strong></p>
<ul>
<li>
<p>Pick some representative operation to act as a proxy for the overall runtime.</p>
<p>in this case, we call our choice the <em><strong>&ldquo;cost model&rdquo;</strong></em></p>
<ul>
<li>
<p>Good choice: <strong>increment</strong>.</p>
</li>
<li>
<p>Bad choice: assignment of j = i + 1.</p>
<p>It might not represent the overall cost as effectively because it could occur too infrequently or might be overshadowed by more significant operations.</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Simplification 3: Eliminate low order terms.</strong></p>
</li>
<li>
<p><strong>Simplification 4: Eliminate multiplicative constants.</strong></p>
</li>
</ul>
<table>
  <thead>
      <tr>
          <th>operation</th>
          <th>worst case o.o.g.</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>increment (+=1)</td>
          <td>$N^2$</td>
      </tr>
  </tbody>
</table>
<h3 id="33-big-theta">3.3 Big-Theta</h3>
<table>
  <thead>
      <tr>
          <th>function</th>
          <th>order of growth</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>$N^3 + 3N^4$</td>
          <td>$N^4$</td>
      </tr>
      <tr>
          <td>$1/N + N^3$</td>
          <td>$N^3$</td>
      </tr>
      <tr>
          <td>$1/N + 5$</td>
          <td>1</td>
      </tr>
      <tr>
          <td>$Ne^N + N$</td>
          <td>$Ne^N$</td>
      </tr>
      <tr>
          <td>$40 sin(N) + 4N^2$</td>
          <td>$N^2$</td>
      </tr>
  </tbody>
</table>
<p>Suppose we have a function R(N) with order of growth f(N).</p>
<ul>
<li>In “Big-Theta” notation we write this as R(N) ∈ Θ(f(N)).</li>
<li>Examples:
<ul>
<li>$N^3 + 3N^4$ ∈ Θ($N^4$)</li>
<li>$1/N + N^3$ ∈ Θ($N^3$)</li>
<li>$1/N + 5$ ∈ Θ(1)</li>
<li>$Ne^N + N$ ∈ Θ($Ne^N$)</li>
<li>$40 sin(N) + 4N^2$ ∈ Θ($N^2$)</li>
</ul>
</li>
</ul>
$$
R(N) \in \Theta(f(N))
\\
k_1 \cdot f(N) \leq R(N) \leq k_2 \cdot f(N)
$$<h3 id="34-big-o-notation">3.4 <strong>Big O Notation</strong></h3>
$$
R(N) \in O(f(N))
\\
R(N) \leq k_2 \cdot f(N)
$$<h2 id="4iteration">4.Iteration</h2>
<p>Java allows us to iterate through Lists and Sets using a convenient shorthand syntax sometimes called the “foreach” or “enhanced for” loop.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-Java" data-lang="Java"><span class="line"><span class="cl"><span class="n">Set</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">javaset</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">HashSet</span><span class="o">&lt;&gt;</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">javaset</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">5</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">javaset</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">23</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">javaset</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">42</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">javaset</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">i</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>An alternate, uglier way to iterate through a List is to use the iterator() method. Though it is only the shortened version.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-Java" data-lang="Java"><span class="line"><span class="cl"><span class="n">Set</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">javaset</span><span class="w"> </span><span class="o">=</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="k">new</span><span class="w"> </span><span class="n">HashSet</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">...</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">Iterator</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">seer</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> 	</span><span class="o">=</span><span class="w"> </span><span class="n">javaset</span><span class="p">.</span><span class="na">iterator</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">seer</span><span class="p">.</span><span class="na">hasNext</span><span class="p">())</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">seer</span><span class="p">.</span><span class="na">next</span><span class="p">());</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p><u>The code on the top is just shorthand for the code below.</u> And the compiler needs to check whether the Set interface have a iterator()</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-Java" data-lang="Java"><span class="line"><span class="cl"><span class="n">Set</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">javaset</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">HashSet</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">//The first version</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">javaset</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">x</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">//The second version</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">Iterator</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">seer</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> 	</span><span class="o">=</span><span class="w"> </span><span class="n">javaset</span><span class="p">.</span><span class="na">iterator</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">seer</span><span class="p">.</span><span class="na">hasNext</span><span class="p">())</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">seer</span><span class="p">.</span><span class="na">next</span><span class="p">());</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>To support ugly iteration:</p>
<ul>
<li>Add an iterator() method to ArraySet that returns an Iterator<T>.</li>
<li>The Iterator<T> that we return should have a useful hasNext() and next() method.</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-Java" data-lang="Java"><span class="line"><span class="cl"><span class="cm">/** Declaration of an Iterator */</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">Iterator</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">aseer</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> 	</span><span class="o">=</span><span class="w"> </span><span class="n">aset</span><span class="p">.</span><span class="na">iterator</span><span class="p">();</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-Java" data-lang="Java"><span class="line"><span class="cl"><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">aseer</span><span class="p">.</span><span class="na">hasNext</span><span class="p">())</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">aseer</span><span class="p">.</span><span class="na">next</span><span class="p">());</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">interface</span> <span class="nc">Iterator</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="kt">boolean</span><span class="w"> </span><span class="nf">hasNext</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">T</span><span class="w"> </span><span class="nf">next</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-Java" data-lang="Java"><span class="line"><span class="cl"><span class="kd">public</span><span class="w"> </span><span class="n">Iterator</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">iterator</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArraySetIterator</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-Java" data-lang="Java"><span class="line"><span class="cl"><span class="kd">private</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ArraySetIterator</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">Iterator</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="kd">private</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">wizPos</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> 	</span><span class="kd">public</span><span class="w"> </span><span class="nf">ArraySetIterator</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">wizPos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">0</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">hasNext</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">wizPos</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">size</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> 	</span><span class="kd">public</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="nf">next</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    	</span><span class="n">T</span><span class="w"> </span><span class="n">returnItem</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">items</span><span class="o">[</span><span class="n">wizPos</span><span class="o">]</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    	</span><span class="n">wizPos</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">1</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    	</span><span class="k">return</span><span class="w"> </span><span class="n">returnItem</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="how-it-works-together"><strong>How It Works Together</strong></h3>
<ol>
<li>The <code>ArraySet</code> object (<code>aset</code>) provides an iterator (<code>ArraySetIterator</code>) through the <code>iterator()</code> method.</li>
<li>The <code>while</code> loop uses <code>hasNext()</code> to check if there are more elements and calls <code>next()</code> to retrieve each element.</li>
<li>The <code>ArraySetIterator</code> internally keeps track of the position (<code>wizPos</code>) and retrieves elements from the <code>items</code> array.</li>
</ol>
<p>Lastly, to support the enhanced for loop, we need to make ArraySet implement the Iterable interface.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-Java" data-lang="Java"><span class="line"><span class="cl"><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ArraySet</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">Iterable</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">...</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="n">Iterator</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">iterator</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>So to build a iterator in a real life project</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-Java" data-lang="Java"><span class="line"><span class="cl"><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Iterator</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.NoSuchElementException</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Deque</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">Iterable</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Node</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">head</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Node</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">tail</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">size</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Node</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">...</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">Deque</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">...</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">addFirst</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="n">item</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">...</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="p">...</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Iterator</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">iterator</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">DequeIterator</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">class</span> <span class="nc">DequeIterator</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">Iterator</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kd">private</span><span class="w"> </span><span class="n">Node</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">current</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">head</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">hasNext</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">current</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="nf">next</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">hasNext</span><span class="p">())</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">NoSuchElementException</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">T</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">current</span><span class="p">.</span><span class="na">data</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">current</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">current</span><span class="p">.</span><span class="na">next</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">data</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">Deque</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">deque</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Deque</span><span class="o">&lt;&gt;</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">deque</span><span class="p">.</span><span class="na">addLast</span><span class="p">(</span><span class="n">1</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">deque</span><span class="p">.</span><span class="na">addLast</span><span class="p">(</span><span class="n">2</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">deque</span><span class="p">.</span><span class="na">addFirst</span><span class="p">(</span><span class="n">0</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">deque</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">item</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h2 id="5disjoint-sets">5.Disjoint Sets</h2>
<p>Deriving the “Disjoint Sets” data structure for solving the “Dynamic Connectivity” problem. We will see:</p>
<ul>
<li>How a data structure design can evolve from basic to sophisticated.</li>
<li>How our choice of underlying abstraction can affect asymptotic runtime (using our formal Big-Theta notation) and code complexity.</li>
</ul>
<p>Goal: Design an efficient Disjoint Sets implementation.</p>
<ul>
<li>
<p>Number of elements N can be huge.</p>
</li>
<li>
<p>Number of method calls M can be huge.</p>
</li>
<li>
<p>Calls to methods may be interspersed (e.g. can’t assume it’s onlu connect operations followed by only isConnected operations).</p>
</li>
</ul>
<p><strong>The Disjoint Sets data structure has two operations:</strong></p>
<ul>
<li>connect(x, y): Connects x and y.</li>
<li>isConnected(x, y): Returns true if x and y are connected. Connections can be transitive, i.e. they don’t need to be direct.</li>
</ul>
<h3 id="51the-native-approach">5.1.The native approach</h3>
<p>Model connectedness in terms of sets.</p>
<ul>
<li>How things are connected isn’t something we need to know.</li>
<li>Only need to keep track of which connected component each item belongs to.</li>
</ul>
<h4 id="511-quick-find">5.1.1 Quick find</h4>
<p>Idea #1: List of sets of integers, e.g. [{0, 1, 2, 4}, {3, 5}, {6}]</p>
<ul>
<li>In Java: List&lt;Set<Integer>&gt;.</li>
<li>Very intuitive idea.</li>
<li>Requires iterating through all the sets to find anything. Complicated and slow!
<ul>
<li>Worst case: If nothing is connected, then isConnected(5, 6) requires iterating through N-1 sets to find 5, then N sets to find 6. Overall runtime of Θ(N).</li>
</ul>
</li>
</ul>
<table>
  <thead>
      <tr>
          <th>Implementation</th>
          <th>constructor</th>
          <th>connect</th>
          <th>isConnected</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>ListOfSetsDS</td>
          <td>Θ(N)</td>
          <td>O(N)</td>
          <td>O(N)</td>
      </tr>
  </tbody>
</table>
<p>Idea #2: list of integers where ith entry gives set number (a.k.a. “id”) of item i.</p>
<ul>
<li>connect(p, q): Change entries that equal id[p] to id[q]</li>
</ul>
<img src="/image-20241129160202707.png" alt="image-20241129160202707" style="zoom:67%;" />
<table>
  <thead>
      <tr>
          <th>Implementation</th>
          <th>constructor</th>
          <th>connect</th>
          <th>isConnected</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>ListOfSetsDS</td>
          <td>Θ(N)</td>
          <td>O(N)</td>
          <td>O(N)</td>
      </tr>
      <tr>
          <td>QuickFindDS</td>
          <td>Θ(N)</td>
          <td>Θ(N)</td>
          <td>Θ(1)</td>
      </tr>
  </tbody>
</table>
<h4 id="512-quick-union">5.1.2 <strong>Quick Union</strong></h4>
<p>Idea: Assign each item a parent (instead of an id). Results in a tree-like shape.</p>
<ul>
<li>
<p>An innocuous sounding, seemingly arbitrary solution.</p>
</li>
<li>
<p>Unlocks a pretty amazing universe of math that we won’t discuss.</p>
<img src="/image-2024112916064247.png" alt="image-2024112916064247" style="zoom:67%;" />
</li>
</ul>
<p>connect(5, 2)</p>
<ul>
<li>One possibility, set id[3] = 2; but you lost the bond between 3 and 5</li>
<li>Set id[3] = 0; but tree can be to tall to climb</li>
</ul>
<table>
  <thead>
      <tr>
          <th>Implementation</th>
          <th>Constructor</th>
          <th>connect</th>
          <th>isConnected</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>ListOfSetsDS</td>
          <td>Θ(N)</td>
          <td>O(N)</td>
          <td>O(N)</td>
      </tr>
      <tr>
          <td>QuickFindDS</td>
          <td>Θ(N)</td>
          <td>Θ(N)</td>
          <td>Θ(1)</td>
      </tr>
      <tr>
          <td>QuickUnionDS</td>
          <td>Θ(N)</td>
          <td>O(N)</td>
          <td>O(N)</td>
      </tr>
  </tbody>
</table>
<h4 id="513-weighted-quick-union">5.1.3. <strong>Weighted Quick Union</strong></h4>
<p>Suppose we are trying to connect(2, 5). We have two choices:</p>
<ol>
<li><strong>Make 5’s root into a child of 2’s root.</strong> Height: 2</li>
<li>Make 2’s root into a child of 5’s root. Height: 3</li>
</ol>
<p>Which is the better choice?</p>
<p>Modify quick-union to avoid tall trees.</p>
<ul>
<li>
<p>Track tree size (<strong>number</strong> of elements).</p>
</li>
<li>
<p>New rule: Always link root of <strong>smaller</strong> tree <strong>to</strong> <strong>larger</strong> tree.</p>
</li>
</ul>
<p>Minimal changes needed:</p>
<ul>
<li>Use parent[] array as before.</li>
<li>isConnected(int p, int q) requires no changes.</li>
<li>connect(int p, int q) needs to somehow keep track of sizes.
<ul>
<li>See the Disjoint Sets lab for the full details.</li>
<li>Two common approaches:
<ul>
<li>Use values other than -1 in parent array for root nodes to track size.</li>
<li>Create a separate size array.</li>
</ul>
</li>
</ul>
</li>
</ul>
<table>
  <thead>
      <tr>
          <th>Implementation</th>
          <th>Constructor</th>
          <th>connect</th>
          <th>isConnected</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>ListOfSetsDS</td>
          <td>Θ(N)</td>
          <td>O(N)</td>
          <td>O(N)</td>
      </tr>
      <tr>
          <td>QuickFindDS</td>
          <td>Θ(N)</td>
          <td>Θ(N)</td>
          <td>Θ(1)</td>
      </tr>
      <tr>
          <td>QuickUnionDS</td>
          <td>Θ(N)</td>
          <td>O(N)</td>
          <td>O(N)</td>
      </tr>
      <tr>
          <td>WeightedQuickUnionDS</td>
          <td>Θ(N)</td>
          <td>O(log N)</td>
          <td>O(log N)</td>
      </tr>
  </tbody>
</table>
<img src="/image-20241129161456292.png" alt="image-20241129161456292" style="zoom:67%;" />
<h4 id="514-path-compression-a-clever-idea">5.1.4 <strong>Path Compression: A Clever Idea</strong></h4>
<p>Below is the topology of the worst case if we use WeightedQuickUnion</p>
<ul>
<li>Clever idea: When we do isConnected(15, 10), tie all nodes seen to the root.
<ul>
<li>Additional cost is insignificant (same order of growth).</li>
</ul>
</li>
</ul>
<img src="/image-20241201094054221.png" alt="image-20241201094054221" style="zoom:50%;" />
<h2 id="5setsmapsbinary-search-trees">5.Sets,Maps,Binary Search Trees</h2>
<p>Among the most important interfaces in the java.util library are those that extend the Collection interface (btw interfaces can extend other interfaces).</p>
<ul>
<li>Lists of things.</li>
<li>Sets of things.</li>
<li>Mappings between items, e.g. jhug’s grade is 88.4, or Creature c’s north neighbor is a Plip.
<ul>
<li>Maps also known as associative arrays, associative lists (in Lisp), symbol tables, dictionaries (in Python).</li>
</ul>
</li>
</ul>
<h3 id="51binary-search-trees">5.1<strong>Binary Search Trees</strong></h3>
<p>To a ordered list, there is a fundamental problem: slow search, though it&rsquo;s ordered.</p>
<p>So, how to improve it?</p>
<img src="/image-20241203143212350.png" alt="image-20241203143212350" style="zoom:50%;" />
<h4 id="511bst-definition">5.1.1.BST definition</h4>
<p>A tree consists of:</p>
<ul>
<li>A set of nodes.</li>
<li>A set of edges that connect those nodes.
<ul>
<li>Constraint: There is exactly one path between any two nodes.</li>
</ul>
</li>
</ul>
<p><strong>BST Property.</strong> For every node X in the tree:</p>
<ul>
<li>
<p>Every key in the <strong>left</strong> subtree is <strong>less</strong> than X’s key.</p>
</li>
<li>
<p>Every key in the <strong>right</strong> subtree is <strong>greater</strong> than X’s key.</p>
<ul>
<li>Ordering must be complete, transitive, and antisymmetric. Given keys p and q:
<ul>
<li>Exactly one of p ≺ q and q ≺ p are true.</li>
<li>p ≺ q and q ≺ r imply p ≺ r.</li>
</ul>
</li>
<li>One consequence of these rules: No duplicate keys allowed!
<ul>
<li>Keeps things simple. Most real world implementations follow this rule</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="512-bst-operations-search">5.1.2 .<strong>BST Operations: Search</strong></h4>
<p>If searchKey equals T.key, return.</p>
<ul>
<li>If searchKey ≺ T.key, search T.left.</li>
<li>If searchKey ≻ T.key, search T.right.</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-Java" data-lang="Java"><span class="line"><span class="cl"><span class="kd">static</span><span class="w"> </span><span class="n">BST</span><span class="w"> </span><span class="nf">find</span><span class="p">(</span><span class="n">BST</span><span class="w"> </span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">Key</span><span class="w"> </span><span class="n">sk</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">sk</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="n">T</span><span class="p">.</span><span class="na">key</span><span class="p">))</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="n">T</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">sk</span><span class="w"> </span><span class="err">≺</span><span class="w"> </span><span class="n">T</span><span class="p">.</span><span class="na">key</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="n">find</span><span class="p">(</span><span class="n">T</span><span class="p">.</span><span class="na">left</span><span class="p">,</span><span class="w"> </span><span class="n">sk</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="k">else</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="n">find</span><span class="p">(</span><span class="n">T</span><span class="p">.</span><span class="na">right</span><span class="p">,</span><span class="w"> </span><span class="n">sk</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>The runtime to search a bushy BST is the worse case needs $\Theta(\log N)$ of time, because the height of the tree is ~$\log N$</p>
<h4 id="513bst-operations-insert">5.1.3.<strong>BST Operations: Insert</strong></h4>
<p>when inserting items into BST, search for key.</p>
<ul>
<li>If found, do nothing.</li>
<li>If not found:
<ul>
<li>Create new node.</li>
<li>Set appropriate link.</li>
</ul>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-Java" data-lang="Java"><span class="line"><span class="cl"><span class="kd">static</span><span class="w"> </span><span class="n">BST</span><span class="w"> </span><span class="nf">insert</span><span class="p">(</span><span class="n">BST</span><span class="w"> </span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">Key</span><span class="w"> </span><span class="n">ik</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">BST</span><span class="p">(</span><span class="n">ik</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ik</span><span class="w"> </span><span class="err">≺</span><span class="w"> </span><span class="n">T</span><span class="p">.</span><span class="na">key</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">T</span><span class="p">.</span><span class="na">left</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">insert</span><span class="p">(</span><span class="n">T</span><span class="p">.</span><span class="na">left</span><span class="p">,</span><span class="w"> </span><span class="n">ik</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ik</span><span class="w"> </span><span class="err">≻</span><span class="w"> </span><span class="n">T</span><span class="p">.</span><span class="na">key</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">T</span><span class="p">.</span><span class="na">right</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">insert</span><span class="p">(</span><span class="n">T</span><span class="p">.</span><span class="na">right</span><span class="p">,</span><span class="w"> </span><span class="n">ik</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">T</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p><strong>Avoid ARMS LENGTH RECURSION</strong>, which means break each kind of circumstances into the easiest way, i.e. instead of using <code>T.right.right == null</code>or <code>T.right == null</code>or anything like that, use <code>T == null</code>, which is the simplest circumstances.</p>
<h4 id="514bst-operations-delete">5.1.4.<strong>BST Operations: Delete</strong></h4>
<p>Breaking down the circumstances, it has 3 Cases:</p>
<ul>
<li>Deletion key has no children.</li>
<li>Deletion key has one child.</li>
<li>Deletion key has two children.</li>
</ul>
<p>#1: with no children</p>
<p>Deletion key has no children (“glut”):</p>
<ul>
<li>
<p>Just sever the parent’s link.</p>
</li>
<li>
<p>What happens to “glut” node?</p>
<ul>
<li>Garbage collected</li>
</ul>
<img src="/image-20241203150023102.png" alt="image-20241203150023102" style="zoom: 67%;" />
</li>
</ul>
<p>#2: with one children</p>
<img src="/image-20241203150229562.png" alt="image-20241203150229562" style="zoom:67%;" />
<p>Goal:</p>
<ul>
<li>Maintain BST property.</li>
<li>Flat’s child definitely larger than dog.
<ul>
<li>Safe to just move that child into flat’s spot.</li>
</ul>
</li>
</ul>
<p>Thus: Move flat’s parent’s pointer to flat’s child.</p>
<ul>
<li>Flat will be garbage collected (along with its instance variables).</li>
</ul>
<img src="/image-20241203150430463.png" alt="image-20241203150430463" style="zoom:67%;" />
<p>#3: hard challenge</p>
<p>Delete k</p>
<img src="/image-20241203150515038.png" alt="image-20241203150515038" style="zoom:67%;" />
<p>Goal:</p>
<ul>
<li>Find a new root node.</li>
<li>Must be &gt; than everything in left subtree.</li>
<li>Must be &lt; than everything right subtree.</li>
</ul>
<p>In this case, you can choose predecessor <code>g</code> or successer<code>m</code> to be the new root, why?</p>
<p><strong>They are both larger than the left side and minor than the right side</strong></p>
<img src="/image-20241203154207568.png" alt="image-20241203154207568" style="zoom:67%;" />
<h2 id="6b-trees">6.B-Trees</h2>
<h3 id="61intro">6.1.Intro</h3>
<p>BSTs have:</p>
<ul>
<li>Worst case Θ(N) height.</li>
<li>Best case Θ(log N) height.</li>
<li>Θ(log N) height if constructed via random inserts.</li>
</ul>
<p>Bad News: We can’t always insert our items in a random order. Why?</p>
<ul>
<li>Data comes in over time, don’t have all at once.
<ul>
<li>Example: Storing dates of events.
<ul>
<li>add(“01-Jan-2019, 10:31:00”)</li>
<li>add(“01-Jan-2019, 18:51:00”)</li>
<li>add(“02-Jan-2019, 00:05:00”)</li>
<li>add(“02-Jan-2019, 23:10:00”)</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="62b-trees--2-3-trees--2-3-4-trees">6.2.<strong>B-trees / 2-3 trees / 2-3-4 trees</strong></h3>
<p>Crazy idea: Never add new leaves at the bottom.</p>
<ul>
<li>Tree can never get imbalanced.</li>
</ul>
<p>However: The problem is adding new leaves at the bottom.</p>
<p>Avoid new leaves by “overstuffing” the leaf nodes.</p>
<ul>
<li>“Overstuffed tree” always has balanced height, because leaf depths never change.
<ul>
<li>Height is just max(depth).</li>
</ul>
</li>
</ul>
<img src="/image-20241210144500625.png" alt="image-20241210144500625" style="zoom:67%;" />
<p>Height is balanced, but we have a new problem:</p>
<ul>
<li>Leaf nodes can get too juicy.</li>
</ul>
<p>Solution?</p>
<ul>
<li>
<p>Set a limit L on the number of items, say L=3.</p>
</li>
<li>
<p>If any node has more than L items, give an item to parent.</p>
<ul>
<li>Which one? Let’s say (arbitrarily) the left-middle.</li>
<li>Pulling item out of full node splits it into left and right.</li>
<li>Parent node now has three children!</li>
</ul>
<img src="/image-20241210144808711.png" alt="image-20241210144808711" style="zoom: 50%;" />
<img src="/image-20241210145102441.png" alt="image-20241210145102441" style="zoom:67%;" />
</li>
</ul>
<img src="/image-20241210145414607.png" alt="image-20241210145414607" style="zoom:50%;" />
<p>B-tree&rsquo;s name:</p>
<ul>
<li>B-trees of order L=3 (like we used today) are also called a 2-3-4 tree or a 2-4 tree.
<ul>
<li>“2-3-4” refers to the number of children that a node can have, e.g. a 2-3-4 tree node may have 2, 3, or 4 children.</li>
</ul>
</li>
<li>B-trees of order L=2 are also called a 2-3 tree.</li>
</ul>
<p>B-Trees are most popular in two specific contexts:</p>
<ul>
<li>Small L (L=2 or L=3):
<ul>
<li>Used as a conceptually simple balanced search tree (as today).</li>
</ul>
</li>
<li>L is very large (say thousands).
<ul>
<li>Used in practice for databases and filesystems (i.e. systems with very large records).</li>
</ul>
</li>
</ul>
<h3 id="63runtime-analysis">6.3.Runtime analysis</h3>
<p>L: Max number of items per node.</p>
<p>Height: Between ~logL+1(N) and ~log2(N)</p>
<ul>
<li>Largest possible height is all non-leaf nodes have 1 item.</li>
<li>Smallest possible height is all nodes have L items.</li>
<li>Overall height is therefore Θ(log N).</li>
</ul>
<p>Runtime for contains:</p>
<ul>
<li>Worst case number of nodes to inspect: H + 1</li>
<li>Worst case number of items to inspect per node: L</li>
<li>Overall runtime: O(HL)</li>
</ul>
<p>Runtime for add:</p>
<ul>
<li>Worst case number of nodes to inspect: H + 1</li>
<li>Worst case number of items to inspect per node: L</li>
<li>Worst case number of split operations: H + 1</li>
<li>Overall runtime: O(HL) = O(L)</li>
</ul>
<h2 id="7red-black-tree">7.Red Black Tree</h2>
<p>2-3 trees (and 2-3-4 trees) are a real pain to implement, and suffer from performance problems. Issues include:</p>
<ul>
<li>Maintaining different node types.</li>
<li>Interconversion of nodes between 2-nodes and 3-nodes.</li>
<li>Walking up the tree to split nodes.</li>
</ul>
<h3 id="71bst-structure-and--tree-rotation">7.1.<strong>BST Structure and</strong>  <strong>Tree Rotation</strong></h3>
<h4 id="711-tree-rotation">7.1.1 Tree Rotation</h4>
<p>rotateLeft(G): Let x be the right child of G. Make G the <strong>new left child</strong> of x.</p>
<ul>
<li>Can think of as temporarily merging G and P, then sending G down and <strong>left</strong>.</li>
<li>Preserves search tree property. No change to semantics of tree.</li>
</ul>
<img src="/image-20241210153123578.png" alt="image-20241210153123578" style="zoom: 67%;" />
<h4 id="712red-black-trees">7.1.2.<strong>Red-Black Trees</strong></h4>
<p>Our goal: Build a BST that is structurally identical to a 2-3 tree.</p>
<ul>
<li>Since 2-3 trees are balanced, so will our special BSTs.</li>
</ul>
<p>Possibility 1: Create dummy “glue” nodes.</p>
<img src="/image-20241210153447794.png" alt="image-20241210153447794" style="zoom: 67%;" />
<p>Result is inelegant. Wasted link. Code will be ugly.</p>
<p>Possibility 2: Create “glue” links with the smaller item <strong>off to the left</strong>.</p>
<p>Idea is commonly used in practice (e.g. java.util.TreeSet). For convenience, we’ll mark glue links as “<strong>red</strong>”.</p>
<img src="/image-20241210154000144.png" alt="image-20241210154000144" style="zoom:67%;" />
<p>A BST with left glue links that represents a 2-3 tree is often called a “Left Leaning Red Black Binary Search Tree” or LLRB.</p>
<ul>
<li>LLRBs are normal BSTs!</li>
<li>There is a 1-1 correspondence between an LLRB and an equivalent 2-3 tree.</li>
<li>The red is just a convenient fiction. Red links don’t “do” anything special.</li>
</ul>
<h3 id="72maintaining-1-1-correspondence-through-rotations">7.2.<strong>Maintaining 1-1 Correspondence Through Rotations</strong></h3>
<h4 id="721-insertion-color">7.2.1. <strong>Insertion Color</strong></h4>
<p>Use red link when the numbers are on the same leaves</p>
<h4 id="722insertion-on-the-right">7.2.2.<strong>Insertion on the Right</strong></h4>
<img src="/image-20241210155513197.png" alt="image-20241210155513197" style="zoom:67%;" />
<p>But it&rsquo;s not leaning left, instead it&rsquo;s right leaning. So we can use rotateLeft(E)</p>
<img src="/image-20241210155620133.png" alt="image-20241210155620133" style="zoom: 67%;" />
<h4 id="723-double-insertion-on-the-left">7.2.3. <strong>Double Insertion on the Left</strong></h4>
<img src="/image-20241210155858754.png" alt="image-20241210155858754" style="zoom:67%;" />
<h4 id="724splitting-temporary-4-nodes">7.2.4.<strong>Splitting Temporary 4-Nodes</strong></h4>
<ul>
<li>Flip the colors of all edges touching B.
<ul>
<li>Note: This doesn’t change the BST structure/shape.</li>
</ul>
</li>
</ul>
<img src="/image-20241212180658141.png" alt="image-20241212180658141" style="zoom: 67%;" />
<h3 id="73runtime-and-implementation">7.3.<strong>Runtime and Implementation</strong></h3>
<p>The runtime analysis for LLRBs is simple if you trust the 2-3 tree runtime.</p>
<ul>
<li>LLRB tree has height O(log N).</li>
<li>Contains is trivially O(log N).</li>
<li>Insert is O(log N).
<ul>
<li>O(log N) to add the new node.</li>
<li>O(log N) rotation and color flip operations per insert.</li>
</ul>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-Java" data-lang="Java"><span class="line"><span class="cl"><span class="kd">private</span><span class="w"> </span><span class="n">Node</span><span class="w"> </span><span class="nf">put</span><span class="p">(</span><span class="n">Node</span><span class="w"> </span><span class="n">h</span><span class="p">,</span><span class="w"> </span><span class="n">Key</span><span class="w"> </span><span class="n">key</span><span class="p">,</span><span class="w"> </span><span class="n">Value</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">h</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Node</span><span class="p">(</span><span class="n">key</span><span class="p">,</span><span class="w"> </span><span class="n">val</span><span class="p">,</span><span class="w"> </span><span class="n">RED</span><span class="p">);</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="kt">int</span><span class="w"> </span><span class="n">cmp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">key</span><span class="p">.</span><span class="na">compareTo</span><span class="p">(</span><span class="n">h</span><span class="p">.</span><span class="na">key</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">cmp</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">0</span><span class="p">)</span><span class="w">      </span><span class="p">{</span><span class="w"> </span><span class="n">h</span><span class="p">.</span><span class="na">left</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">put</span><span class="p">(</span><span class="n">h</span><span class="p">.</span><span class="na">left</span><span class="p">,</span><span class="w">  </span><span class="n">key</span><span class="p">,</span><span class="w"> </span><span class="n">val</span><span class="p">);</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">cmp</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">h</span><span class="p">.</span><span class="na">right</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">put</span><span class="p">(</span><span class="n">h</span><span class="p">.</span><span class="na">right</span><span class="p">,</span><span class="w"> </span><span class="n">key</span><span class="p">,</span><span class="w"> </span><span class="n">val</span><span class="p">);</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">else</span><span class="w">              </span><span class="p">{</span><span class="w"> </span><span class="n">h</span><span class="p">.</span><span class="na">val</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span><span class="w">                    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">isRed</span><span class="p">(</span><span class="n">h</span><span class="p">.</span><span class="na">right</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">!</span><span class="n">isRed</span><span class="p">(</span><span class="n">h</span><span class="p">.</span><span class="na">left</span><span class="p">))</span><span class="w">      </span><span class="p">{</span><span class="w"> </span><span class="n">h</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rotateLeft</span><span class="p">(</span><span class="n">h</span><span class="p">);</span><span class="w">  </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">isRed</span><span class="p">(</span><span class="n">h</span><span class="p">.</span><span class="na">left</span><span class="p">)</span><span class="w">  </span><span class="o">&amp;&amp;</span><span class="w">  </span><span class="n">isRed</span><span class="p">(</span><span class="n">h</span><span class="p">.</span><span class="na">left</span><span class="p">.</span><span class="na">left</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">h</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rotateRight</span><span class="p">(</span><span class="n">h</span><span class="p">);</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">isRed</span><span class="p">(</span><span class="n">h</span><span class="p">.</span><span class="na">left</span><span class="p">)</span><span class="w">  </span><span class="o">&amp;&amp;</span><span class="w">  </span><span class="n">isRed</span><span class="p">(</span><span class="n">h</span><span class="p">.</span><span class="na">right</span><span class="p">))</span><span class="w">     </span><span class="p">{</span><span class="w"> </span><span class="n">flipColors</span><span class="p">(</span><span class="n">h</span><span class="p">);</span><span class="w">      </span><span class="p">}</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="k">return</span><span class="w"> </span><span class="n">h</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="74search-tree-summary">7.4.Search Tree Summary</h3>
<p>In the last 3 lectures, we talked about using search trees to implement sets/maps.</p>
<ul>
<li><strong>Binary search trees</strong> are simple, but they are subject to imbalance.</li>
<li><strong>2-3 Trees (B Trees)</strong> are balanced, but painful to implement and relatively slow.</li>
<li><strong>LLRBs</strong> insertion is simple to implement (but delete is hard).
<ul>
<li>Works by maintaining mathematical bijection with a 2-3 trees.</li>
</ul>
</li>
<li>Java’s <a href="https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/999dbd4192d0f819cb5224f26e9e7fa75ca6f289/src/java.base/share/classes/java/util/TreeMap.java">TreeMap</a> is a red-black tree (not left leaning).
<ul>
<li>Maintains correspondence with 2-3-4 tree (is not a 1-1 correspondence).</li>
<li>Allows glue links on either side (see <a href="http://en.wikipedia.org/wiki/Red%E2%80%93black_tree">Red-Black Tree</a>).</li>
<li>More complex implementation, but significantly (?) faster.</li>
</ul>
</li>
</ul>
<h2 id="8hashing">8.Hashing</h2>
<table>
  <thead>
      <tr>
          <th></th>
          <th>contains(x)</th>
          <th>add(x)</th>
          <th>Notes</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>ArraySet</td>
          <td>Θ(N)</td>
          <td>Θ(N)</td>
          <td></td>
      </tr>
      <tr>
          <td>BST</td>
          <td>Θ(N)</td>
          <td>Θ(N)</td>
          <td>Random trees are Θ(log N).</td>
      </tr>
      <tr>
          <td>2-3 Tree</td>
          <td>Θ(log N)</td>
          <td>Θ(log N)</td>
          <td>Beautiful idea. Very hard to implement.</td>
      </tr>
      <tr>
          <td>LLRB</td>
          <td>Θ(log N)</td>
          <td>Θ(log N)</td>
          <td>Maintains bijection with 2-3 tree. Hard to implement.</td>
      </tr>
  </tbody>
</table>
<p>Our search tree based sets require items to be comparable. Not all data type can be asked bigger or smaller. And is it possible to work better than $\Theta)\log N$?</p>
<h3 id="81dataindexedenglishwordset">8.1.<strong>DataIndexedEnglishWordSet</strong></h3>
<p>The core thinking: <u><strong>Using Data as an Index</strong></u>.</p>
<p>You can create a infinite array and use the integer as the array index and put the int into its array.$\Theta (1)$ for add and contain.</p>
<p>Ideally, we want a data indexed set that can store arbitrary types. For instance, turn the boolean box &ldquo;C&rdquo; to True if you put &ldquo;cat&rdquo; in.</p>
<p>What’s wrong with this approach?</p>
<ul>
<li>Other words start with c.
<ul>
<li>contains(“chupacabra”) : true</li>
</ul>
</li>
<li>Can’t store “=98yae98fwyawef”</li>
</ul>
<p>So, how can we create a unique index for every word?</p>
<p>Use all digits by multiplying each by a power of 27.</p>
<ul>
<li>a = 1, b = 2, c = 3, …, z = 26</li>
<li>Thus the index of “cat” is $(3 \times 27^2) + (1 \times 27^1) + (20 \times 27^0) = 2234.$</li>
</ul>
<p>As long as we pick a base ≥ 26, this algorithm is guaranteed to give each lowercase English word a unique number!</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-Java" data-lang="Java"><span class="line"><span class="cl"><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">DataIndexedEnglishWordSet</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="kd">private</span><span class="w"> </span><span class="kt">boolean</span><span class="o">[]</span><span class="w"> </span><span class="n">present</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="kd">public</span><span class="w"> </span><span class="nf">DataIndexedEnglishWordSet</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">       </span><span class="n">present</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">boolean</span><span class="o">[</span><span class="n">2000000000</span><span class="o">]</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">add</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">       </span><span class="n">present</span><span class="o">[</span><span class="n">englishToInt</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">contains</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	   </span><span class="k">return</span><span class="w"> </span><span class="n">present</span><span class="o">[</span><span class="n">englishToInt</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">]</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="82dataindexedstringset">8.2.<strong>DataIndexedStringSet</strong></h3>
<p>Using only lowercase English characters is too restrictive.</p>
<ul>
<li>What if we want to store strings like “2pac” or “eGg!”?</li>
<li>To understand what value we need to use for our base, let’s discuss briefly discuss the ASCII standard.</li>
<li>Examples:$bee_{126}= (98 \times 126^2) + (101\times 126^1) + (101 \times 126^0) = 1,568,675$</li>
</ul>
<p>And going beyond the ASCII, you can use UNICODE, allowing Chinese and Japanese too</p>
<ul>
<li>$守门员_{40959} = (23432 \times 40959^2) + (38376 \times 40959^1) + (21592 \times 40959^0) = 39,312,024,869,368$</li>
</ul>
<p>However, this can lead to <strong>Integer Overflow and Hash Codes</strong></p>
<p>In Java, the largest possible integer is 2,147,483,647.</p>
<ul>
<li>If you go over this limit, you overflow, starting back over at the smallest integer, which is -2,147,483,648.</li>
<li>In other words, the next number after 2,147,483,647 is -2,147,483,648.</li>
<li>With base 126, we will run into overflow even for short strings. <a href="https://en.wikipedia.org/wiki/Pigeonhole_principle">Pigeonhole principle</a> tells us that if there are more than 4294967296 possible items, multiple items will share the same hash code.</li>
</ul>
<p>Two fundamental challenges:</p>
<ul>
<li>
<p>How do we resolve hashCode collisions (“melt banana” vs. “subterrestrial anticosmetic”)?</p>
<ul>
<li>We’ll call this <strong>collision handling</strong>.</li>
</ul>
</li>
<li>
<p>How do we compute a hash code for arbitrary objects?</p>
<ul>
<li>We’ll call this <strong>computing a hashCode</strong>.</li>
<li>Example: Our hashCode for “melt banana” was 839099497.</li>
<li>For Strings, this was relatively straightforward (treat as a base 27 or base 126 or base 40959 number).</li>
</ul>
</li>
</ul>
<h3 id="83hash-tables-handling-collisions">8.3.<strong>Hash Tables:</strong> Handling Collisions</h3>
<p>Suppose N items have the same numerical representation h:</p>
<p>Instead of storing true in position h, store a “bucket” of these N items at position h.</p>
<p>How to implement a “bucket”?</p>
<ul>
<li>Conceptually simplest way: LinkedList.</li>
<li>Could also use ArrayLists.</li>
<li>Could also use an ArraySet.</li>
<li>Will see it doesn’t really matter what you do.</li>
</ul>
<p>Each bucket in our array is initially empty. When an item x gets added at index h:</p>
<ul>
<li>If bucket h is empty, we create a new list containing x and store it at index h.</li>
<li>If bucket h is already a list, we add x to this list if it is not already present.
<img src="/image-20241213090954388.png" alt="image-20241213090954388" style="zoom:33%;" /></li>
</ul>
<table>
  <thead>
      <tr>
          <th>Worst case time</th>
          <th>contains(x)</th>
          <th>add(x)</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>Bushy BSTs</td>
          <td>Θ(log N)</td>
          <td>Θ(log N)</td>
      </tr>
      <tr>
          <td>DataIndexedArray</td>
          <td>Θ(1)</td>
          <td>Θ(1)</td>
      </tr>
      <tr>
          <td>Separate Chaining Data Indexed Array</td>
          <td>Θ(Q)</td>
          <td>Θ(Q)</td>
      </tr>
  </tbody>
</table>
<p>Q: Length of longest list</p>
<p>Observation: We don’t really need billions of buckets. Can use modulus of hashcode to reduce bucket count.</p>
<ul>
<li>
<p>Downside: Lists will be longer.</p>
</li>
<li>
<p>What we’ve just created here is called a <strong>hash table</strong>.</p>
<ul>
<li><em>Data</em> is converted by a <strong>hash function</strong> into an integer representation called a <strong>hash code</strong>.</li>
</ul>
<p>The <strong>hash code</strong> is then <strong>reduced</strong> to a valid <em>index</em>, usually using the modulus operator, e.g. 2348762878 % 10 = 8.</p>
<img src="/image-20241213091214134.png" alt="image-20241213091214134" style="zoom:33%;" />
</li>
</ul>
<p>Suppose we have:</p>
<ul>
<li>An increasing number of buckets M.</li>
<li>An increasing number of items N.</li>
</ul>
<p>As long as M = Θ(N), then O(N/M) = O(1).</p>
<p>One example strategy: When N/M is ≥ 1.5, then double M.</p>
<ul>
<li>We often call this process of increasing M “resizing”.</li>
<li>N/M is often called the “load factor”. It represents how full the hash table is.</li>
<li>This rule ensures that the average list is never more than 1.5 items long!</li>
</ul>
<p><em>Assuming items are evenly distributed</em> (as above), lists will be approximately N/M items long, resulting in Θ(N/M) runtimes.</p>
<ul>
<li>Our doubling strategy ensures that N/M = O(1).</li>
<li>Thus, worst case runtime for all operations is Θ(N/M) = Θ(1).
<ul>
<li>… unless that operation causes a resize.</li>
</ul>
</li>
</ul>
<table>
  <thead>
      <tr>
          <th></th>
          <th>contains(x)</th>
          <th>add(x)</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>Bushy BSTs</td>
          <td>Θ(log N)</td>
          <td>Θ(log N)</td>
      </tr>
      <tr>
          <td>DataIndexedArray</td>
          <td>Θ(1)</td>
          <td>Θ(1)</td>
      </tr>
      <tr>
          <td>Separate Chaining Hash Table With No Resizing</td>
          <td>Θ(N)</td>
          <td>Θ(N)</td>
      </tr>
      <tr>
          <td>… With Resizing</td>
          <td>Θ(1)†</td>
          <td>Θ(1)*†</td>
      </tr>
  </tbody>
</table>
<p>*: Indicates “on average”.</p>
<p>†: Assuming items are evenly spread.</p>
<h3 id="84hash-tables-in-java">8.4.<strong>Hash Tables in Java</strong></h3>
<p>Hash tables are the most popular implementation for sets and maps.</p>
<ul>
<li>Great performance in practice.</li>
<li>Don’t require items to be comparable.</li>
<li>Implementations often relatively simple.</li>
<li>Python dictionaries are just hash tables in disguise.</li>
</ul>
<p>In Java, implemented as java.util.HashMap and java.util.HashSet.</p>
<ul>
<li>How does a HashMap know how to compute each object’s hash code?
<ul>
<li>Good news: It’s not “implements Hashable”.</li>
<li>Instead, all objects in Java must implement a .hashCode() method. Default implementation simply returns the memory address of the object.</li>
</ul>
</li>
</ul>
<p>Suppose that  (glodden apple)‘s hash code is -1.</p>
<ul>
<li>Unfortunately, -1 % 4 = -1. Will result in index errors!</li>
<li>Use Math.floorMod instead.</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-Java" data-lang="Java"><span class="line"><span class="cl"><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ModTest</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="o">-</span><span class="n">1</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="n">4</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">Math</span><span class="p">.</span><span class="na">floorMod</span><span class="p">(</span><span class="o">-</span><span class="n">1</span><span class="p">,</span><span class="w"> </span><span class="n">4</span><span class="p">));</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>Someone asks me (the hash table) for “cow”:</p>
<ul>
<li>Hashcode of cow % array size: get back 1</li>
<li>!n.key.equals(“cow”) so go to next.</li>
<li>!n.key.equals(“cow”) so go to next.</li>
<li>n.key.equals(“cow”), so: return n.value</li>
</ul>
<img src="/image-20241213094636242.png" alt="image-20241213094636242" style="zoom:50%;" />
<p>Warning #1: Never store objects that can change in a HashSet or HashMap!</p>
<ul>
<li>If an object’s variables changes, then its hashCode changes. May result in items getting lost.</li>
</ul>
<p>Warning #2: Never override equals without also overriding hashCode.</p>
<ul>
<li>Can also lead to items getting lost and generally weird behavior.</li>
<li>HashMaps and HashSets use equals to determine if an item exists in a particular bucket.</li>
<li>See study guide problems.</li>
</ul>
<h2 id="9priority-queues-and-heaps">9.Priority Queues and Heaps</h2>
<h3 id="91priority-queue">9.1.Priority Queue</h3>
<p>Priority Queue Interface</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-Java" data-lang="Java"><span class="line"><span class="cl"><span class="cm">/** (Min) Priority Queue: Allowing tracking and removal of the
</span></span></span><span class="line"><span class="cl"><span class="cm">  * smallest item in a priority queue. */</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">interface</span> <span class="nc">MinPQ</span><span class="o">&lt;</span><span class="n">Item</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="cm">/** Adds the item to the priority queue. */</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">add</span><span class="p">(</span><span class="n">Item</span><span class="w"> </span><span class="n">x</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="cm">/** Returns the smallest item in the priority queue. */</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="kd">public</span><span class="w"> </span><span class="n">Item</span><span class="w"> </span><span class="nf">getSmallest</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="cm">/** Removes the smallest item from the priority queue. */</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="kd">public</span><span class="w"> </span><span class="n">Item</span><span class="w"> </span><span class="nf">removeSmallest</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="cm">/** Returns the size of the priority queue. */</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="kd">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">size</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>Useful if you want to keep track of the “smallest”, “largest”, “best” etc. seen so far.</p>
<p>You can have a list with all elements and track the top M elements, but it cost too much memory. Or you could track top M transactions using only M memory.</p>
<p>Some possibilities:</p>
<ul>
<li>Ordered Array</li>
<li>Bushy BST: Maintaining bushiness is annoying. <strong>Handling duplicate priorities is awkward.</strong></li>
<li>HashTable: No good! Items go into random places.</li>
</ul>
<table>
  <thead>
      <tr>
          <th></th>
          <th>Ordered Array</th>
          <th>Bushy BST</th>
          <th>Hash Table</th>
          <th>Heap</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>add</td>
          <td>Θ(N)</td>
          <td>Θ(log N)</td>
          <td>Θ(1)</td>
          <td></td>
      </tr>
      <tr>
          <td>getSmallest</td>
          <td>Θ(1)</td>
          <td>Θ(log N)</td>
          <td>Θ(N)</td>
          <td></td>
      </tr>
      <tr>
          <td>removeSmallest</td>
          <td>Θ(N)</td>
          <td>Θ(log N)</td>
          <td>Θ(N)</td>
          <td></td>
      </tr>
      <tr>
          <td>Caveats</td>
          <td></td>
          <td>Dups tough</td>
          <td></td>
          <td></td>
      </tr>
  </tbody>
</table>
<h3 id="92heaps">9.2.Heaps</h3>
<p>BSTs would work, but need to be kept bushy and duplicates are awkward.</p>
<p>Binary min-heap: Binary tree that is <strong>complete</strong> and obeys <strong>min-heap property</strong>.</p>
<ul>
<li>Min-heap: Every node is less than or equal to both of its children.</li>
<li>Complete: Missing items only at the bottom level (if any), all nodes are as far left as possible.</li>
</ul>
<img src="/image-20241215103312312.png" alt="image-20241215103312312" style="zoom:33%;" />
<p>Given a heap, how do we implement PQ operations?</p>
<ul>
<li>getSmallest() - return the item in the root node.</li>
<li>add(x) - place the new employee in the last position, and promote as high as possible.</li>
<li>removeSmallest() - assassinate the president (of the company), promote the rightmost person in the company to president. Then demote repeatedly, always taking the ‘better’ successor.</li>
</ul>
<p>See <a href="https://goo.gl/wBKdFQ">https://goo.gl/wBKdFQ</a> for an animated demo.</p>
<h3 id="93tree-representations">9.3.<strong>Tree Representations</strong></h3>
<h4 id="931approach-1">9.3.1.Approach 1</h4>
<p>Approach 1a, 1b and 1c: Create mapping from node to children.</p>
<p>1a:Fixed-Width <strong>Nodes</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-Java" data-lang="Java"><span class="line"><span class="cl"><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Tree1A</span><span class="o">&lt;</span><span class="n">Key</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="n">Key</span><span class="w"> </span><span class="n">k</span><span class="p">;</span><span class="w"> </span><span class="c1">// e.g. 0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="n">Tree1A</span><span class="w"> </span><span class="n">left</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="n">Tree1A</span><span class="w"> </span><span class="n">middle</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="n">Tree1A</span><span class="w"> </span><span class="n">right</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="p">...</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><img src="/image-20241215103726331.png" alt="image-20241215103726331" style="zoom: 50%;" />
<p>1b:Variable-Width Nodes</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-Java" data-lang="Java"><span class="line"><span class="cl"><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Tree1B</span><span class="o">&lt;</span><span class="n">Key</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="n">Key</span><span class="w"> </span><span class="n">k</span><span class="p">;</span><span class="w"> </span><span class="c1">// e.g. 0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="n">Tree1B</span><span class="o">[]</span><span class="w"> </span><span class="n">children</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="p">...</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><img src="/image-20241215103810105.png" alt="image-20241215103810105" style="zoom:50%;" />
<p>1c:Sibling Tree</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-Java" data-lang="Java"><span class="line"><span class="cl"><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Tree1C</span><span class="o">&lt;</span><span class="n">Key</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="n">Key</span><span class="w"> </span><span class="n">k</span><span class="p">;</span><span class="w"> </span><span class="c1">// e.g. 0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="n">Tree1C</span><span class="w"> </span><span class="n">favoredChild</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="n">Tree1C</span><span class="w"> </span><span class="n">sibling</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="p">...</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><img src="/image-20241215103857869.png" alt="image-20241215103857869" style="zoom:50%;" />
<h4 id="932approach-2">9.3.2.Approach 2</h4>
<p>Approach 2: Store keys in an array. Store parentIDs in an array.</p>
<ul>
<li>Similar to what we did with disjointSets</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-Java" data-lang="Java"><span class="line"><span class="cl"><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Tree2</span><span class="o">&lt;</span><span class="n">Key</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="n">Key</span><span class="o">[]</span><span class="w"> </span><span class="n">keys</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="kt">int</span><span class="o">[]</span><span class="w"> </span><span class="n">parents</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="p">...</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/cs61b%E7%AC%94%E8%AE%B0/image-20241215104107191.png" alt="image-20241215104107191"></p>
<h4 id="933approach-3">9.3.3.Approach 3</h4>
<p>Approach 3: Store keys in an array. Don’t store structure anywhere.</p>
<ul>
<li>To interpret array: Simply assume tree is complete.</li>
<li>Obviously only works for “complete” trees.</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-Java" data-lang="Java"><span class="line"><span class="cl"><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Tree3</span><span class="o">&lt;</span><span class="n">Key</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="n">Key</span><span class="o">[]</span><span class="w"> </span><span class="n">keys</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="p">...</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/cs61b%E7%AC%94%E8%AE%B0/image-20241215104220381.png" alt="image-20241215104220381"></p>
<p><strong>Challenge: Write the parent(k) method for approach 3.</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-Java" data-lang="Java"><span class="line"><span class="cl"><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">swim</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">k</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">keys</span><span class="o">[</span><span class="n">parent</span><span class="p">(</span><span class="n">k</span><span class="p">)</span><span class="o">]</span><span class="w"> </span><span class="err">≻</span><span class="w"> </span><span class="n">keys</span><span class="o">[</span><span class="n">k</span><span class="o">]</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">       </span><span class="n">swap</span><span class="p">(</span><span class="n">k</span><span class="p">,</span><span class="w"> </span><span class="n">parent</span><span class="p">(</span><span class="n">k</span><span class="p">));</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">       </span><span class="n">swim</span><span class="p">(</span><span class="n">parent</span><span class="p">(</span><span class="n">k</span><span class="p">));</span><span class="w">              
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-Java" data-lang="Java"><span class="line"><span class="cl"><span class="kd">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">parent</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">k</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="n">k</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">1</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">2</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>Except there can be a small trick: Store keys in an array. Offset everything by 1 spot.</p>
<ul>
<li>Same as 3, but leave spot 0 empty.</li>
<li>Makes computation of children/parents “nicer”.
<ul>
<li>leftChild(k) = k*2</li>
<li>rightChild(k) = k*2 + 1</li>
<li>parent(k) = k/2</li>
</ul>
</li>
</ul>
<p><img src="/p/cs61b%E7%AC%94%E8%AE%B0/image-20241215104504515.png" alt="image-20241215104504515"></p>
<table>
  <thead>
      <tr>
          <th></th>
          <th>Ordered Array</th>
          <th>Bushy BST</th>
          <th>Hash Table</th>
          <th>Heap</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>add</td>
          <td>Θ(N)</td>
          <td>Θ(log N)</td>
          <td>Θ(1)</td>
          <td>Θ(log N)</td>
      </tr>
      <tr>
          <td>getSmallest</td>
          <td>Θ(1)</td>
          <td>Θ(log N)</td>
          <td>Θ(N)</td>
          <td>Θ(1)</td>
      </tr>
      <tr>
          <td>removeSmallest</td>
          <td>Θ(N)</td>
          <td>Θ(log N)</td>
          <td>Θ(N)</td>
          <td>Θ(log N)</td>
      </tr>
  </tbody>
</table>
<p>Notes:</p>
<ul>
<li>Why “priority queue”? Can think of position in tree as its “priority.”</li>
<li>Heap is log N time AMORTIZED (some resizes, but no big deal).</li>
<li>BST can have constant getSmallest if you keep a pointer to smallest.</li>
<li>Heaps handle duplicate priorities much more naturally than BSTs.</li>
<li>Array based heaps take less memory (very roughly about 1/3rd the memory of representing a tree with approach 1a).</li>
</ul>
<h3 id="94-data-structure-summary">9.4. Data Structure Summary</h3>
<table>
  <thead>
      <tr>
          <th>Name</th>
          <th>Storage Operation(s)</th>
          <th>Primary Retrieval Operation</th>
          <th>Retrieve By:</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>List</td>
          <td>add(key)insert(key, index)</td>
          <td>get(index)</td>
          <td>index</td>
      </tr>
      <tr>
          <td>Map</td>
          <td>put(key, value)</td>
          <td>get(key)</td>
          <td>key identity</td>
      </tr>
      <tr>
          <td>Set</td>
          <td>add(key)</td>
          <td>containsKey(key)</td>
          <td>key identity</td>
      </tr>
      <tr>
          <td>PQ</td>
          <td>add(key)</td>
          <td>getSmallest()</td>
          <td>key order (a.k.a. key size)</td>
      </tr>
      <tr>
          <td>Disjoint Sets</td>
          <td>connect(int1, int2)</td>
          <td>isConnected(int1, int2)</td>
          <td>two int values</td>
      </tr>
  </tbody>
</table>
<p><img src="/p/cs61b%E7%AC%94%E8%AE%B0/image-20241215105118776.png" alt="image-20241215105118776"></p>
<p><img src="/p/cs61b%E7%AC%94%E8%AE%B0/image-20241215105133444.png" alt="image-20241215105133444"></p>
<p>Data Structure: A particular way of organizing data.</p>
<ul>
<li>We’ve covered many of the most fundamental abstract data types, their common implementations, and the tradeoffs thereof.</li>
<li>We’ll do two more in this class:
<ul>
<li>Tries, graphs.</li>
</ul>
</li>
</ul>
<h2 id="10graphs-and-traversals">10.Graphs and Traversals</h2>
<h3 id="101trees-and-traversals">10.1.Trees and Traversals</h3>
<p>Trees are a more general concept.</p>
<ul>
<li>Organization charts.</li>
<li>Family lineages* including phylogenetic trees.</li>
<li>MOH Training Manual for Management of Malaria</li>
</ul>
<p>Sometimes you want to iterate over a tree. For example, suppose you want to find the total size of all files in a folder called 61b.</p>
<ul>
<li>What one might call “tree iteration” is actually called “tree traversal.”</li>
<li>Unlike lists, there are many orders in which we might <strong>visit</strong> the nodes.
<ul>
<li>Each ordering is useful in different ways.</li>
</ul>
</li>
</ul>
<p><img src="/p/cs61b%E7%AC%94%E8%AE%B0/image-20241215110130310.png" alt="image-20241215110130310"></p>
<p>Depth First Traversals</p>
<ul>
<li>3 types: Preorder, Inorder, Postorder</li>
<li>Basic (rough) idea: Traverse “deep nodes” (e.g. A) before shallow ones (e.g. F).</li>
<li>Note: Traversing a node is different than “visiting” a node. See next slide.</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-Java" data-lang="Java"><span class="line"><span class="cl"><span class="n">preOrder</span><span class="p">(</span><span class="n">BSTNode</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">print</span><span class="p">(</span><span class="n">x</span><span class="p">.</span><span class="na">key</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">preOrder</span><span class="p">(</span><span class="n">x</span><span class="p">.</span><span class="na">left</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">preOrder</span><span class="p">(</span><span class="n">x</span><span class="p">.</span><span class="na">right</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-Java" data-lang="Java"><span class="line"><span class="cl"><span class="n">inOrder</span><span class="p">(</span><span class="n">BSTNode</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">inOrder</span><span class="p">(</span><span class="n">x</span><span class="p">.</span><span class="na">left</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">print</span><span class="p">(</span><span class="n">x</span><span class="p">.</span><span class="na">key</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">inOrder</span><span class="p">(</span><span class="n">x</span><span class="p">.</span><span class="na">right</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-Java" data-lang="Java"><span class="line"><span class="cl"><span class="n">postOrder</span><span class="p">(</span><span class="n">BSTNode</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">postOrder</span><span class="p">(</span><span class="n">x</span><span class="p">.</span><span class="na">left</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">postOrder</span><span class="p">(</span><span class="n">x</span><span class="p">.</span><span class="na">right</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">print</span><span class="p">(</span><span class="n">x</span><span class="p">.</span><span class="na">key</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>Example: Tree traversals:</p>
<ul>
<li>Preorder: DBACFEG</li>
<li>Inorder: ABCDEFG</li>
<li>Postorder: ACBEGFD</li>
<li>Level order: DBFACEG</li>
</ul>
<img src="/image-20241215131531936.png" alt="image-20241215131531936" style="zoom:33%;" />
<p>Example: Preorder Traversal for printing directory listing:</p>
<p><img src="/p/cs61b%E7%AC%94%E8%AE%B0/image-20241215110414827.png" alt="image-20241215110414827"></p>
<p><strong>Example: Postorder Traversal for gathering file sizes.</strong></p>
<p><img src="/p/cs61b%E7%AC%94%E8%AE%B0/image-20241215110511471.png" alt="image-20241215110511471"></p>
<h3 id="102graphs">10.2.<strong>Graphs</strong></h3>
<p>Trees are fantastic for representing strict hierarchical relationships.</p>
<ul>
<li>But not every relationship is hierarchical.</li>
<li>Example: Paris Metro map.</li>
</ul>
<p>A graph consists of:</p>
<ul>
<li>A set of nodes.</li>
<li>A set of zero or more edges, each of which connects two nodes. So all trees are graphs!</li>
<li>The graph can be directed or undirected</li>
</ul>
<p>A simple graph is a graph with:</p>
<ul>
<li>No edges that connect a vertex to itself, i.e. no “loops”.</li>
<li>No two edges that connect the same vertices, i.e. no “parallel edges”.</li>
</ul>
<p><img src="/p/cs61b%E7%AC%94%E8%AE%B0/image-20241215110741939.png" alt="image-20241215110741939"></p>
<p>In 61B, <strong>unless otherwise explicitly stated, all graphs will be simple.</strong></p>
<ul>
<li>In other words, when we say “graph”, we mean “simple graph.”</li>
</ul>
<h3 id="103depth-first-traversal">10.3.<strong>Depth-First Traversal</strong></h3>
<p><strong>Let’s solve a classic graph problem called the s-t connectivity problem.</strong></p>
<ul>
<li>Given source vertex s and a target vertex t, is there a path between s and t?</li>
</ul>
<p>One possible recursive algorithm for connected(s, t).</p>
<ul>
<li>Does s == t? If so, return true.</li>
<li>Otherwise, if connected(v, t) for any neighbor v of s, return true.</li>
<li>Return false.</li>
</ul>
<p><strong>What is wrong with it?</strong> Can get caught in an infinite loop. Example:</p>
<ul>
<li>connected(0, 7):
<ul>
<li>Does 0 == 7? No, so&hellip;</li>
<li>if (connected(1, 7)) return true;</li>
</ul>
</li>
<li>connected(1, 7):
<ul>
<li>Does 1 == 7? No, so…</li>
<li>If (connected(0, 7)) … ← Infinite loop.</li>
</ul>
</li>
</ul>
<p>Better version: recursive algorithm for connected(s, t).</p>
<ul>
<li>Mark s.</li>
<li>Does s == t? If so, return true.</li>
<li>Otherwise, if connected(v, t) for any unmarked neighbor v of s, return true.</li>
<li>Return false.</li>
</ul>
<p><strong>This idea of exploring a neighbor’s entire subgraph before moving on to the next neighbor is known as Depth First Traversal.</strong></p>
<ul>
<li>Called “depth first” because you go as deep as possible.</li>
<li>DFS is a very powerful technique that can be used for many types of graph problems.</li>
</ul>
<img src="/image-20241215212452979.png" alt="image-20241215212452979" style="zoom:33%;" />
<h3 id="104tree-vs-graph-traversals">10.4.<strong>Tree Vs. Graph Traversals</strong></h3>
<p>Just as there are many tree traversals:</p>
<ul>
<li>Preorder, Inorder, Postorder, Level order</li>
</ul>
<p>So too are there many graph traversals, given some source:</p>
<ul>
<li>DFS Preorder: 012543678 (dfs calls).</li>
<li>DFS Postorder: 347685210 (dfs returns).</li>
<li>BFS order: Act in order of distance from s.
<ul>
<li>BFS stands for “breadth first search”.</li>
<li>Analogous to “level order”. Search is wide, not deep.</li>
<li>0 1 24 53 68 7</li>
</ul>
</li>
</ul>
<img src="/image-20241215132218503.png" alt="image-20241215132218503" style="zoom:33%;" />
<h2 id="11graphs-ii-graph-traversal-implementations">11.Graphs II: Graph Traversal Implementations</h2>
<h3 id="111bfs-answer">11.1.<strong>BFS Answer</strong></h3>
<p><strong>Breadth First Search.</strong></p>
<ul>
<li>Initialize a queue with a starting vertex s and mark that vertex.
<ul>
<li>A queue is a list that has two operations: enqueue (a.k.a. addLast) and dequeue (a.k.a. removeFirst).</li>
<li>Let’s call this the queue our <strong>fringe</strong>.</li>
</ul>
</li>
<li>Repeat until queue is empty:
<ul>
<li>Remove vertex v from the front of the queue.</li>
<li>For each unmarked neighbor n of v:
<ul>
<li>Mark n.</li>
<li>Set edgeTo[n] = v (and/or distTo[n] = distTo[v] + 1).</li>
<li>Add n to end of queue.</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><strong>BreadthFirstPaths Implements list</strong></p>
<p><strong>Goal: Find shortest path between s and every other vertex.</strong></p>
<ul>
<li><strong>Initialize the fringe</strong> (a queue with a starting vertex s) and mark that vertex.</li>
<li>Repeat until fringe is empty
<ul>
<li>Remove vertex v from fringe.</li>
<li>For each unmarked neighbor n of v: mark n, add n to fringe, set <code>edgeTo[n] = v</code>, set <code>distTo[n] = distTo[v] + 1</code>.</li>
</ul>
</li>
</ul>
<img src="/image-20241215210344373.png" alt="image-20241215210344373" style="zoom:50%;" />
<p>The Queue will turned form [ ]-&gt;[0]-&gt;[1]-&gt;[2,4]-&gt;[4,5]-&gt;[5,3]-&gt;[3,6,8]-&gt;[6,8]-&gt;[8,7]-&gt;[7]-&gt;[ ]</p>
<img src="/image-20241215210958127.png" alt="image-20241215210958127" style="zoom: 50%;" />
<h3 id="112graph-api">11.2.Graph API</h3>
<p>To Implement our graph algorithms like BreadthFirstPaths and DepthFirstPaths, we need:</p>
<ul>
<li><strong>An API</strong> (Application Programming Interface) for graphs.
<ul>
<li>For our purposes today, these are our Graph methods, including their signatures and behaviors.</li>
<li>Defines how Graph client programmers must think.</li>
</ul>
</li>
<li>An underlying data structure to represent our graphs.</li>
</ul>
<p>Our choices can have profound implications on:</p>
<ul>
<li><strong>Runtime.</strong></li>
<li><strong>Memory usage.</strong></li>
<li><strong>Difficulty of implementing various graph algorithms.</strong></li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-Java" data-lang="Java"><span class="line"><span class="cl"><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Graph</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="nf">Graph</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">V</span><span class="p">):</span><span class="w">               </span><span class="n">Create</span><span class="w"> </span><span class="n">empty</span><span class="w"> </span><span class="n">graph</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="n">vertices</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">addEdge</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">v</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">w</span><span class="p">):</span><span class="w"> </span><span class="n">add</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">edge</span><span class="w"> </span><span class="n">v</span><span class="o">-</span><span class="n">w</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">Iterable</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">adj</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">v</span><span class="p">):</span><span class="w">      </span><span class="n">vertices</span><span class="w"> </span><span class="n">adjacent</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">v</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="nf">V</span><span class="p">():</span><span class="w">                           </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">vertices</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="nf">E</span><span class="p">():</span><span class="w">                           </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">edges</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">...</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>Print Client:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-Java" data-lang="Java"><span class="line"><span class="cl"><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">print</span><span class="p">(</span><span class="n">Graph</span><span class="w"> </span><span class="n">G</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">0</span><span class="p">;</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="na">V</span><span class="p">();</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> 	    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">w</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="na">adj</span><span class="p">(</span><span class="n">v</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    	       </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">v</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="err">“</span><span class="o">-</span><span class="err">”</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">w</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    	     </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w"> 
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>Representation: Adjacency lists.</p>
<ul>
<li>Common approach: Maintain array of lists indexed by vertex number.</li>
<li>Most popular approach for representing graphs.</li>
</ul>
<img src="/image-20241215211354917.png" alt="image-20241215211354917" style="zoom: 33%;" />
<img src="/image-20241215211410007.png" alt="image-20241215211410007" style="zoom:33%;" />
<p>Runtime: Θ(V + E)</p>
<ul>
<li>V is total number of vertices</li>
<li>E is total number of edges in the entire graph</li>
</ul>
<table>
  <thead>
      <tr>
          <th>idea</th>
          <th>addEdge(s, t)</th>
          <th>for(w : adj(v))</th>
          <th>print()</th>
          <th>hasEdge(s, t)</th>
          <th>space used</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>adjacency matrix</td>
          <td>Θ(1)</td>
          <td>Θ(V)</td>
          <td>Θ(V2)</td>
          <td>Θ(1)</td>
          <td>Θ(V2)</td>
      </tr>
      <tr>
          <td>list of edges</td>
          <td>Θ(1)</td>
          <td>Θ(E)</td>
          <td>Θ(E)</td>
          <td>Θ(E)</td>
          <td>Θ(E)</td>
      </tr>
      <tr>
          <td>adjacency list</td>
          <td>Θ(1)</td>
          <td>Θ(1) to Θ(V)</td>
          <td>Θ(V+E)</td>
          <td>Θ(degree(v))</td>
          <td>Θ(E+V)</td>
      </tr>
  </tbody>
</table>
<p>Upper Implementation can be seen in this <a href="https://docs.google.com/presentation/d/1v5pLls6n5weicMenk_CXxNVC-9O-Uic1usRQYrdxBN0/edit#slide=id.g54593997ea_2_825">slide</a></p>
<p>Bare-Bones Undirected Graph Implementation</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-Java" data-lang="Java"><span class="line"><span class="cl"><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Graph</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">V</span><span class="p">;</span><span class="w">  </span><span class="kd">private</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;[]</span><span class="w"> </span><span class="n">adj</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="kd">public</span><span class="w"> </span><span class="nf">Graph</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">V</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    	    </span><span class="k">this</span><span class="p">.</span><span class="na">V</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">V</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    	    </span><span class="n">adj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;[]</span><span class="p">)</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">[</span><span class="n">V</span><span class="o">]</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    	    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">0</span><span class="p">;</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">V</span><span class="p">;</span><span class="w"> </span><span class="n">v</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">             </span><span class="n">adj</span><span class="o">[</span><span class="n">v</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">         </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="p">}</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">addEdge</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">v</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">w</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">         </span><span class="n">adj</span><span class="o">[</span><span class="n">v</span><span class="o">]</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">w</span><span class="p">);</span><span class="w">   </span><span class="n">adj</span><span class="o">[</span><span class="n">w</span><span class="o">]</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">v</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="kd">public</span><span class="w"> </span><span class="n">Iterable</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">adj</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">v</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">adj</span><span class="o">[</span><span class="n">v</span><span class="o">]</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="113graph-traversal-implementations-and-runtime">11.3.<strong>Graph Traversal Implementations and Runtime</strong></h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Paths</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">Paths</span><span class="p">(</span><span class="n">Graph</span><span class="w"> </span><span class="n">G</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">s</span><span class="p">):</span><span class="w">    </span><span class="n">Find</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">paths</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">G</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">hasPathTo</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">v</span><span class="p">):</span><span class="w">        </span><span class="n">is</span><span class="w"> </span><span class="n">there</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">v</span><span class="o">?</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">Iterable</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">pathTo</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">v</span><span class="p">):</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="nf">v</span><span class="w"> </span><span class="p">(</span><span class="k">if</span><span class="w"> </span><span class="n">any</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-Java" data-lang="Java"><span class="line"><span class="cl"><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">DepthFirstPaths</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="kd">private</span><span class="w"> </span><span class="kt">boolean</span><span class="o">[]</span><span class="w"> </span><span class="n">marked</span><span class="p">;</span><span class="w">		</span><span class="c1">//marked[v] is true iff v connected to s</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="kd">private</span><span class="w"> </span><span class="kt">int</span><span class="o">[]</span><span class="w"> </span><span class="n">edgeTo</span><span class="p">;</span><span class="w"> </span><span class="c1">//edgeTo[v] is previous vertex on path from s to v</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="kd">private</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">s</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> 	
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="nf">DepthFirstPaths</span><span class="p">(</span><span class="n">Graph</span><span class="w"> </span><span class="n">G</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="p">...</span><span class="w">	</span><span class="c1">//not shown: data structure initialization</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="n">dfs</span><span class="p">(</span><span class="n">G</span><span class="p">,</span><span class="w"> </span><span class="n">s</span><span class="p">);</span><span class="w">	</span><span class="c1">//find vertices connected to s.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">dfs</span><span class="p">(</span><span class="n">Graph</span><span class="w"> </span><span class="n">G</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">v</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">	</span><span class="c1">//record all the path when initialization</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">marked</span><span class="o">[</span><span class="n">v</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">w</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="na">adj</span><span class="p">(</span><span class="n">v</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">marked</span><span class="o">[</span><span class="n">w</span><span class="o">]</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">edgeTo</span><span class="o">[</span><span class="n">w</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">dfs</span><span class="p">(</span><span class="n">G</span><span class="p">,</span><span class="w"> </span><span class="n">w</span><span class="p">);</span><span class="w">	</span><span class="c1">//recursive routine does the work and stores results in an easy to query manner!</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="p">}</span><span class="w">        	
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">...</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-Java" data-lang="Java"><span class="line"><span class="cl"><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">DepthFirstPaths</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="kd">private</span><span class="w"> </span><span class="kt">boolean</span><span class="o">[]</span><span class="w"> </span><span class="n">marked</span><span class="p">;</span><span class="w">		</span><span class="c1">//marked[v] is true iff v connected to s</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="kd">private</span><span class="w"> </span><span class="kt">int</span><span class="o">[]</span><span class="w"> </span><span class="n">edgeTo</span><span class="p">;</span><span class="w">		</span><span class="c1">//edgeTo[v] is previous vertex on path from s to v</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="kd">private</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">s</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="p">...</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="n">Iterable</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">pathTo</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">v</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">hasPathTo</span><span class="p">(</span><span class="n">v</span><span class="p">))</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v</span><span class="p">;</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">s</span><span class="p">;</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">edgeTo</span><span class="o">[</span><span class="n">x</span><span class="o">]</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="n">path</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">x</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">path</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">s</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">Collections</span><span class="p">.</span><span class="na">reverse</span><span class="p">(</span><span class="n">path</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">path</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">hasPathTo</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">v</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">marked</span><span class="o">[</span><span class="n">v</span><span class="o">]</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>Very hard question: Could we say the runtime is O(E)? No.(E is the number of vertices)</p>
<p>Can’t say O(E)!</p>
<ul>
<li>Constructor has to create an all false marked array.</li>
<li>This marking of all vertices as false takes Θ(V) time.</li>
</ul>
<p>Our cost model earlier (dfs calls + marked checks) does not provide a tight bound.</p>
<table>
  <thead>
      <tr>
          <th>Problem</th>
          <th>Problem Description</th>
          <th>Solution</th>
          <th>Efficiency (adj. list)</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>s-t paths</td>
          <td>Find a path from s to every reachable vertex.</td>
          <td>DepthFirstPaths.java<a href="https://docs.google.com/presentation/d/1lTo8LZUGi3XQ1VlOmBUF9KkJTW_JWsw_DOPq8VBiI3A/edit?usp=sharing">Demo</a></td>
          <td>O(V+E) timeΘ(V) space</td>
      </tr>
      <tr>
          <td>s-t shortest paths</td>
          <td>Find a shortest path from s to every reachable vertex.</td>
          <td>BreadthFirstPaths.java<a href="https://docs.google.com/presentation/d/1JoYCelH4YE6IkSMq_LfTJMzJ00WxDj7rEa49gYmAtc4/edit?usp=sharing">Demo</a></td>
          <td>O(V+E) timeΘ(V) space</td>
      </tr>
  </tbody>
</table>
<p>Interesting fact:</p>
<ul>
<li>ANY recursive algorithm can be implemented using iteration and a stack.</li>
<li>In 61C, you’ll learn how recursive calls are implemented at a low level using a stack, i.e. in REAL recursive code, there is an explicit stack being utilized (but below the level of abstraction that you usually think about).</li>
</ul>
<img src="/image-20241216224559508.png" alt="image-20241216224559508" style="zoom:33%;" />
<p>The Stack will go from []-&gt;[0]-&gt;[1]-&gt;[4,2]-&gt;[5,3,2]-&gt;[8,6,3,2]-&gt;[6,3,2]-&gt;[7,3,2]-&gt;[3,2]-&gt;[2]-&gt;[]</p>
<p>Visit order [0,1,4,5,8,6,7,3,2]</p>
<h2 id="12shortest-path">12.Shortest Path</h2>
<p><strong>BFS vs. DFS for Path Finding</strong> Possible considerations:</p>
<ul>
<li><strong>Correctness.</strong> Do both work for all graphs?
<ul>
<li>Yes!</li>
</ul>
</li>
<li><strong>Output Quality.</strong> Does one give better results?
<ul>
<li>BFS is a 2-for-1 deal, not only do you get paths, but your paths are also guaranteed to be shortest.</li>
</ul>
</li>
<li><strong>Time Efficiency.</strong> Is one more efficient than the other?
<ul>
<li>Should be very similar. Both consider all edges twice. Experiments or very careful analysis needed.</li>
<li>DFS is worse for spindly graphs.
<ul>
<li>Call stack gets very deep.</li>
<li>Computer needs Θ(V) memory to remember recursive calls (see CS61C).</li>
</ul>
</li>
<li>BFS is worse for absurdly “bushy” graphs.
<ul>
<li>Queue gets very large. In worst case, queue will require Θ(V) memory.</li>
<li>Example: 1,000,000 vertices that are all connected. 999,999 will be enqueued at once.</li>
</ul>
</li>
<li>Note: In our implementations, we have to spend Θ(V) memory anyway to track distTo and edgeTo arrays.
<ul>
<li>Can optimize by storing distTo and edgeTo in a map instead of an array.</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>BFS yields the wrong route from s to t.</p>
<ul>
<li>No: BFS yields a route of length ~190 instead of ~110.</li>
<li>We need an algorithm that takes into account edge distances, also known as “edge weights”!</li>
</ul>
<h3 id="121dijkstras-algorithm">12.1.<strong>Dijkstra’s Algorithm</strong></h3>
<p>Will start with a bad algorithm and then successively improve it.</p>
<ul>
<li>Algorithm begins in state below. All vertices unmarked. All distances infinite. No edges in the SPT.</li>
</ul>
<img src="/image-20241216230309433.png" alt="image-20241216230309433" style="zoom:50%;" />
<p>Bad algorithm #1: Perform a depth first search. When you visit v:</p>
<ul>
<li>For each edge from v to w, if w is not already part of SPT, add the edge.****</li>
</ul>
<img src="/image-20241216230342337.png" alt="image-20241216230342337" style="zoom: 33%;" />
<p>Bad algorithm #2: Perform a depth first search. When you visit v:</p>
<ul>
<li>For each edge from v to w, add edge to the SPT <strong>only if that edge yields better distance</strong>.(We’ll call this process “edge <strong>relaxation</strong>)</li>
</ul>
<img src="/image-20241216230814353.png" alt="image-20241216230814353" style="zoom:33%;" />
<p>Dijkstra’s Algorithm: Perform a <strong>best first search</strong> (closest first). When you visit v:</p>
<ul>
<li>For each from v to w, <strong>relax that edge</strong>. i.e.  add edge <strong>only if that edge yields better distance</strong>. See <a href="https://docs.google.com/presentation/d/1_bw2z1ggUkquPdhl7gwdVBoTaoJmaZdpkV6MoAgxlJc/pub?start=false&amp;loop=false&amp;delayms=3000">Demo</a></li>
<li>Create a <strong>priority queue (min-heap)</strong> to store vertices, where the priority is the current distance of a vertex.</li>
<li>Visit vertices in <strong>order of</strong> <strong>best-known distance</strong> from source,i.e. the vertices&rsquo; distance to source. On visit, <strong>relax</strong> every edge from the visited vertex. Once visited, the vertex is finalized, its distance can&rsquo;t be changed. Because before visiting, it is the smallest in the PQ, you can&rsquo;t expect the further vertex adding a positive number bigger than the finalized value, if all distance is positive.</li>
<li>So Dijkstra’s is guaranteed to return a correct result if all edges are non-negative.  And you don;t need to check if relax is needed if you point at a finalized vertex.</li>
</ul>
<img src="/image-20241216230913593.png" alt="image-20241216230913593" style="zoom:33%;" />
<p>Proof sketch: Assume all edges have non-negative weights.</p>
<ul>
<li>At start, distTo[source] = 0, which is optimal.</li>
<li>After relaxing all edges from source, let vertex v1 be the vertex with minimum weight, i.e. that is closest to the source. Claim: distTo[v1] is optimal, and thus future relaxations will fail. Why?
<ul>
<li>distTo[p] ≥ distTo[v1] for all p, therefore</li>
<li>distTo[p] + w ≥ distTo[v1]</li>
</ul>
</li>
<li>Can use induction to prove that this holds for all vertices after dequeuing.</li>
</ul>
<h3 id="122a">12.2.$A^*$</h3>
<p>Is this a good algorithm for a navigation application?</p>
<ul>
<li>Will it find the shortest path?</li>
<li>Will it be efficient?</li>
</ul>
<p><strong>The Problem with Dijkstra’s</strong></p>
<ul>
<li>Dijkstra’s will explore every place within nearly two thousand miles of Denver before it locates NYC.</li>
</ul>
<p>How can we do better?</p>
<ul>
<li>Find a way that add up the distance from the vertex to the source and the terminal. It will ideally get a line linking the source and terminal.</li>
<li>Visit vertices in order of d(Denver, v) + h(v, goal), where h(v, goal) is an estimate of the distance from v to our goal NYC.</li>
<li>In other words, look at some location v if:
<ul>
<li>We know already know the fastest way to reach v.</li>
<li>AND we suspect that v is also the fastest way to NYC taking into account the time to get to v.</li>
</ul>
</li>
</ul>
<img src="/image-20241217094048506.png" alt="image-20241217094048506" style="zoom:50%;" />
<p>How do we get our estimate?</p>
<ul>
<li>Estimate is an arbitrary <strong>heuristic</strong> h(v, goal).</li>
<li>heuristic: “using experience to learn and improve”</li>
<li>Doesn’t have to be perfect!</li>
</ul>
<p>Single Source, Single Target:</p>
<ul>
<li>Dijkstra’s is inefficient (searches useless parts of the graph).</li>
<li>Can represent shortest path as path (with up to V-1 vertices, but probably far fewer).</li>
<li>A* is potentially much faster than Dijkstra’s.
<ul>
<li>Consistent heuristic guarantees correct solution.</li>
</ul>
</li>
</ul>
<table>
  <thead>
      <tr>
          <th>Problem</th>
          <th>Problem Description</th>
          <th>Solution</th>
          <th>Efficiency</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>paths</td>
          <td>Find a path from s to every reachable vertex.</td>
          <td>DepthFirstPaths.java<a href="https://docs.google.com/presentation/d/1lTo8LZUGi3XQ1VlOmBUF9KkJTW_JWsw_DOPq8VBiI3A/edit?usp=sharing">Demo</a></td>
          <td>O(V+E) timeΘ(V) space</td>
      </tr>
      <tr>
          <td>shortest paths</td>
          <td>Find the shortest path from s to every reachable vertex.</td>
          <td>BreadthFirstPaths.java<a href="https://docs.google.com/presentation/d/1JoYCelH4YE6IkSMq_LfTJMzJ00WxDj7rEa49gYmAtc4/edit?usp=sharing">Demo</a></td>
          <td>O(V+E) timeΘ(V) space</td>
      </tr>
      <tr>
          <td>shortest weighted paths</td>
          <td>Find the shortest path, considering weights, from s to every reachable vertex.</td>
          <td>DijkstrasSP.java<a href="https://docs.google.com/presentation/d/1_bw2z1ggUkquPdhl7gwdVBoTaoJmaZdpkV6MoAgxlJc/pub?start=false&amp;loop=false&amp;delayms=3000">Demo</a></td>
          <td>O(E log V) timeΘ(V) space</td>
      </tr>
      <tr>
          <td>shortest weighted path</td>
          <td>Find the shortest path, consider weights, from s to some target vertex</td>
          <td>A*: Same as Dijkstra’s but with h(v, goal) added to priority of each vertex.<a href="https://docs.google.com/presentation/d/177bRUTdCa60fjExdr9eO04NHm0MRfPtCzvEup1iMccM/edit#slide=id.g369665031c_0_350">Demo</a></td>
          <td>Time depends on heuristic.Θ(V) space</td>
      </tr>
  </tbody>
</table>
<h2 id="13minimum-spanning-trees">13.Minimum Spanning Trees</h2>
<p>Given an <strong>undirected</strong> graph, a <strong>spanning tree</strong> T is a subgraph of G, where T:</p>
<ul>
<li>Is connected.</li>
<li>Is acyclic(无环).</li>
<li>Includes all of the vertices.</li>
</ul>
<p>A <strong>minimum spanning tree</strong> is a spanning tree of minimum total weight.</p>
<ul>
<li>Example: Directly connecting buildings by power lines.</li>
</ul>
<img src="/image-20241217102245748.png" alt="image-20241217102245748" style="zoom:33%;" />
<p>A shortest paths tree depends on the start vertex:</p>
<ul>
<li>Because it tells you how to get from a source to EVERYTHING.</li>
</ul>
<p>There is no source for a MST.</p>
<p>Nonetheless, the MST sometimes happens to be an SPT for a specific vertex.</p>
<p><strong>A Useful Tool for Finding the MST: Cut Property</strong></p>
<ul>
<li>A <strong>cut</strong> is an assignment of a graph’s nodes to two non-empty sets.</li>
<li>A <strong>crossing edge</strong> is an edge which connects a node from one set to a node from the other set.</li>
<li><strong>Cut property:</strong> Given any cut, minimum weight crossing edge is in the MST.</li>
</ul>
<p>Start with no edges in the MST.</p>
<ul>
<li>Find a cut that has no crossing edges in the MST.</li>
<li>Add smallest crossing edge to the MST.</li>
<li>Repeat until V-1 edges.</li>
<li>This should work, but we need some way of finding a cut with no crossing edges!
<ul>
<li>Random isn’t a very good idea.</li>
</ul>
</li>
</ul>
<h3 id="131prims-algorithm">13.1.<strong>Prim’s Algorithm</strong></h3>
<p>Start from some arbitrary start node.</p>
<ul>
<li>
<p>Repeatedly add shortest edge (mark black) that has one node inside the MST under construction.</p>
</li>
<li>
<p>Repeat until V-1 edges.</p>
</li>
<li>
<p>It is very similar with the Dijkstra Algorithm.</p>
<ul>
<li>
<p>Visit order:</p>
<ul>
<li>Dijkstra’s algorithm visits vertices in order of distance from the source.</li>
<li>Prim’s algorithm visits vertices in order of distance from the MST under construction.</li>
</ul>
<p>Relaxation:</p>
<ul>
<li>
<p>Relaxation in Dijkstra’s considers an edge better based on distance to source.</p>
</li>
<li>
<p>Relaxation in Prim’s considers an edge better based on distance to tree.</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<img src="/image-20241217103326158.png" alt="image-20241217103326158" style="zoom:33%;" />
</li>
</ul>
<blockquote>
<p>Conceptual Prim’s Algorithm Demo (<a href="https://docs.google.com/presentation/d/1NFLbVeCuhhaZAM1z3s9zIYGGnhT4M4PWwAc-TLmCJjc/edit#slide=id.g9a60b2f52_0_0">Link</a>)</p>
</blockquote>
<p>Why does Prim’s work? Special case of generic algorithm.</p>
<ul>
<li>Suppose we add edge e = v-&gt;w.</li>
<li>Side 1 of cut is all vertices connected to start, side 2 is all the others.</li>
<li>No crossing edge is black (all connected edges on side 1).</li>
<li>No crossing edge has lower weight (consider in increasing order).</li>
</ul>
<p>Prim&rsquo;s Implementation Pseudocode</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-Java" data-lang="Java"><span class="line"><span class="cl"><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">PrimMST</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="nf">PrimMST</span><span class="p">(</span><span class="n">EdgeWeightedGraph</span><span class="w"> </span><span class="n">G</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">edgeTo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Edge</span><span class="o">[</span><span class="n">G</span><span class="p">.</span><span class="na">V</span><span class="p">()</span><span class="o">]</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">distTo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">double</span><span class="o">[</span><span class="n">G</span><span class="p">.</span><span class="na">V</span><span class="p">()</span><span class="o">]</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">marked</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">boolean</span><span class="o">[</span><span class="n">G</span><span class="p">.</span><span class="na">V</span><span class="p">()</span><span class="o">]</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">fringe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SpecialPQ</span><span class="o">&lt;</span><span class="n">Double</span><span class="o">&gt;</span><span class="p">(</span><span class="n">G</span><span class="p">.</span><span class="na">V</span><span class="p">());</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">distTo</span><span class="o">[</span><span class="n">s</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">0</span><span class="p">.</span><span class="na">0</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">setDistancesToInfinityExceptS</span><span class="p">(</span><span class="n">s</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">insertAllVertices</span><span class="p">(</span><span class="n">fringe</span><span class="p">);</span><span class="c1">//Fringe is ordered by distTo tree. Must be a specialPQ like Dijkstra’s.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="cm">/* Get vertices in order of distance from tree. */</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">fringe</span><span class="p">.</span><span class="na">isEmpty</span><span class="p">())</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="kt">int</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fringe</span><span class="p">.</span><span class="na">delMin</span><span class="p">();</span><span class="c1">//Get vertex closest to tree that is unvisited.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="n">scan</span><span class="p">(</span><span class="n">G</span><span class="p">,</span><span class="w"> </span><span class="n">v</span><span class="p">);</span><span class="c1">//Scan means to consider all of a vertices outgoing edges.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">scan</span><span class="p">(</span><span class="n">EdgeWeightedGraph</span><span class="w"> </span><span class="n">G</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">v</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">marked</span><span class="o">[</span><span class="n">v</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span><span class="c1">//Vertex is closest, so add to MST.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">Edge</span><span class="w"> </span><span class="n">e</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="na">adj</span><span class="p">(</span><span class="n">v</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">w</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="na">other</span><span class="p">(</span><span class="n">v</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">marked</span><span class="o">[</span><span class="n">w</span><span class="o">]</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">continue</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">//Already in MST, so go to next edge.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">e</span><span class="p">.</span><span class="na">weight</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">distTo</span><span class="o">[</span><span class="n">w</span><span class="o">]</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="c1">//Better path to a particular vertex found, so update current best known for that vertex.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="n">distTo</span><span class="o">[</span><span class="n">w</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="na">weight</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="n">edgeTo</span><span class="o">[</span><span class="n">w</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">e</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="n">pq</span><span class="p">.</span><span class="na">decreasePriority</span><span class="p">(</span><span class="n">w</span><span class="p">,</span><span class="w"> </span><span class="n">distTo</span><span class="o">[</span><span class="n">w</span><span class="o">]</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><table>
  <thead>
      <tr>
          <th></th>
          <th># Operations</th>
          <th>Cost per operation</th>
          <th>Total cost</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>PQ add</td>
          <td>V</td>
          <td>O(log V)</td>
          <td>O(V log V)</td>
      </tr>
      <tr>
          <td>PQ delMin</td>
          <td>V</td>
          <td>O(log V)</td>
          <td>O(V log V)</td>
      </tr>
      <tr>
          <td>PQ decreasePriority</td>
          <td>O(E)</td>
          <td>O(log V)</td>
          <td>O(E log V)</td>
      </tr>
  </tbody>
</table>
<p>E stands for number of edges, V stands for number of vertexes. Heap can be one of the PQ.</p>
<h3 id="132kruskals-algorithm">13.2.<strong>Kruskal’s Algorithm</strong></h3>
<p>Initially mark all edges gray.</p>
<ul>
<li>Consider edges in increasing order of weight.</li>
<li>Add edge to MST (mark black) unless doing so creates a cycle.</li>
<li>Repeat until V-1 edges.</li>
</ul>
<blockquote>
<p>Conceptual Kruskal’s Algorithm Demo (<a href="https://docs.google.com/presentation/d/1RhRSYs9Jbc335P24p7vR-6PLXZUl-1EmeDtqieL9ad8/edit?usp=sharing">Link</a>)</p>
<p>Realistic Kruskal’s Algorithm Implementation Demo (<a href="https://docs.google.com/presentation/d/1KpNiR7aLIEG9sm7HgX29nvf3yLD8_vdQEPa0ktQfuYc/edit?usp=sharing">Link</a>)</p>
</blockquote>
<p>Why does Kruskal’s work? Special case of generic MST algorithm.</p>
<ul>
<li>Suppose we add edge e = v-&gt;w.</li>
<li>Side 1 of cut is all vertices connected to v, side 2 is everything else.</li>
<li>No crossing edge is black (since we don’t allow cycles).</li>
<li>No crossing edge has lower weight (consider in increasing order).</li>
<li>It is fundamental a implementation of the <strong>Cut property</strong></li>
<li>
<img src="/image-20241217105424671.png" alt="image-20241217105424671" style="zoom:33%;" />
</li>
</ul>
<p><strong>Kruskal’s Implementation (Pseudocode)</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-Java" data-lang="Java"><span class="line"><span class="cl"><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">KruskalMST</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="kd">private</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Edge</span><span class="o">&gt;</span><span class="w"> </span><span class="n">mst</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Edge</span><span class="o">&gt;</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="nf">KruskalMST</span><span class="p">(</span><span class="n">EdgeWeightedGraph</span><span class="w"> </span><span class="n">G</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">MinPQ</span><span class="o">&lt;</span><span class="n">Edge</span><span class="o">&gt;</span><span class="w"> </span><span class="n">pq</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">MinPQ</span><span class="o">&lt;</span><span class="n">Edge</span><span class="o">&gt;</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">Edge</span><span class="w"> </span><span class="n">e</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="na">edges</span><span class="p">())</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="n">pq</span><span class="p">.</span><span class="na">insert</span><span class="p">(</span><span class="n">e</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">WeightedQuickUnionPC</span><span class="w"> </span><span class="n">uf</span><span class="w"> </span><span class="o">=</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">             </span><span class="k">new</span><span class="w"> </span><span class="n">WeightedQuickUnionPC</span><span class="p">(</span><span class="n">G</span><span class="p">.</span><span class="na">V</span><span class="p">());</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">pq</span><span class="p">.</span><span class="na">isEmpty</span><span class="p">()</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">mst</span><span class="p">.</span><span class="na">size</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">G</span><span class="p">.</span><span class="na">V</span><span class="p">()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="n">Edge</span><span class="w"> </span><span class="n">e</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pq</span><span class="p">.</span><span class="na">delMin</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="kt">int</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="na">from</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="kt">int</span><span class="w"> </span><span class="n">w</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="na">to</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">uf</span><span class="p">.</span><span class="na">connected</span><span class="p">(</span><span class="n">v</span><span class="p">,</span><span class="w"> </span><span class="n">w</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">uf</span><span class="p">.</span><span class="na">union</span><span class="p">(</span><span class="n">v</span><span class="p">,</span><span class="w"> </span><span class="n">w</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">mst</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">e</span><span class="p">);</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><table>
  <thead>
      <tr>
          <th>Operation</th>
          <th>Number of Times</th>
          <th>Time per Operation</th>
          <th>Total Time</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>Insert</td>
          <td>E</td>
          <td>O(log E)</td>
          <td>O(E log E)</td>
      </tr>
      <tr>
          <td>Delete minimum</td>
          <td>O(E)</td>
          <td>O(log E)</td>
          <td>O(E log E)</td>
      </tr>
      <tr>
          <td>union</td>
          <td>O(V)</td>
          <td>O(log* V)</td>
          <td>O(V log* V)</td>
      </tr>
      <tr>
          <td>isConnected</td>
          <td>O(E)</td>
          <td>O(log* V)</td>
          <td>O(E log*V)</td>
      </tr>
  </tbody>
</table>
<p>E stands for number of edges, V stands for number of vertexes.</p>
<table>
  <thead>
      <tr>
          <th>Problem</th>
          <th>Algorithm</th>
          <th>Runtime (if E &gt; V)</th>
          <th>Notes</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>Shortest Paths</td>
          <td>Dijkstra’s</td>
          <td>O(E log V)</td>
          <td>Fails for negative weight edges.</td>
      </tr>
      <tr>
          <td>MST</td>
          <td>Prim’s</td>
          <td>O(E log V)</td>
          <td>Analogous to Dijkstra’s.</td>
      </tr>
      <tr>
          <td>MST</td>
          <td>Kruskal’s</td>
          <td>O(E log E)</td>
          <td>Uses WQUPC.</td>
      </tr>
      <tr>
          <td>MST</td>
          <td>Kruskal’s with pre-sorted edges</td>
          <td>O(E log* V)</td>
          <td>Uses WQUPC.</td>
      </tr>
  </tbody>
</table>
<h2 id="14directed-acyclic-graphs">14.Directed Acyclic Graphs</h2>
<p>Graph problem so far.</p>
<table>
  <thead>
      <tr>
          <th>Problem</th>
          <th>Problem Description</th>
          <th>Solution</th>
          <th>Efficiency</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>paths</td>
          <td>Find a path from s to every reachable vertex.</td>
          <td>DepthFirstPaths.java<a href="https://docs.google.com/presentation/d/1mr841rMgVAffqi-TfL--gZPmEjAM5rpBW7MzrmJPuaU/edit#slide=id.g25f3bf5f9c7_0_1020">Demo</a></td>
          <td>O(V+E) timeΘ(V) space</td>
      </tr>
      <tr>
          <td>shortest paths</td>
          <td>Find the shortest path from s to every reachable vertex.</td>
          <td>BreadthFirstPaths.java<a href="https://docs.google.com/presentation/d/1mHaFA7w9G-wsEPLu-HSpqjm3EYAhDbhrXdcWUJdn4N8/edit#slide=id.g239d0124e83_0_0">Demo</a></td>
          <td>O(V+E) timeΘ(V) space</td>
      </tr>
      <tr>
          <td>shortest weighted paths</td>
          <td>Find the shortest path, considering weights, from s to every reachable vertex.</td>
          <td>DijkstrasSP.java<a href="https://docs.google.com/presentation/d/1UHAU4IgEPYO3AJKYANd8XN8VDw5KZlt86HMLm9mJyyY/edit#slide=id.g50bd245468_0_1223">Demo</a></td>
          <td>O(E log V) timeΘ(V) space</td>
      </tr>
      <tr>
          <td>shortest weighted path</td>
          <td>Find the shortest path, consider weights, from s to some target vertex</td>
          <td>A*: Same as Dijkstra’s but with h(v, goal) added to priority of each vertex.<a href="https://docs.google.com/presentation/d/1UHAU4IgEPYO3AJKYANd8XN8VDw5KZlt86HMLm9mJyyY/edit#slide=id.g50bd245468_0_1100">Demo</a></td>
          <td>Time depends on heuristic.Θ(V) space</td>
      </tr>
      <tr>
          <td>minimum spanning tree</td>
          <td>Find a minimum spanning tree.</td>
          <td>LazyPrimMST.java<a href="https://docs.google.com/presentation/d/102XAttadgxd3dW78_ymTpA2mK4xT5pPDz6DDShafJUg/edit#slide=id.g25f5241fa9b_0_10">Demo</a></td>
          <td>O(???) timeΘ(???) space</td>
      </tr>
      <tr>
          <td>minimum spanning tree</td>
          <td>Find a minimum spanning tree.</td>
          <td>PrimMST.java<a href="https://docs.google.com/presentation/d/102XAttadgxd3dW78_ymTpA2mK4xT5pPDz6DDShafJUg/edit#slide=id.g25f5241fa9b_0_545">Demo</a></td>
          <td>O(E log V) timeΘ(V) space</td>
      </tr>
      <tr>
          <td>minimum spanning tree</td>
          <td>Find a minimum spanning tree.</td>
          <td>KruskalMST.java<a href="https://docs.google.com/presentation/d/102XAttadgxd3dW78_ymTpA2mK4xT5pPDz6DDShafJUg/edit#slide=id.g25f5241fa9b_0_1437">Demo</a></td>
          <td>O(E log E) timeΘ(E) space</td>
      </tr>
  </tbody>
</table>
<h3 id="141topological拓扑-sorting">14.1.Topological(拓扑) Sorting</h3>
<p>The reason it’s called topological sort: Can think of this process as sorting our nodes so they appear in an order consistent with edges, e.g. [C, F, G, A, D, B, E, H]</p>
<ul>
<li>When nodes are sorted in diagram, arrows all point rightwards.</li>
</ul>
<img src="/image-20241231091241775.png" alt="image-20241231091241775" style="zoom: 50%;" />
<table>
  <thead>
      <tr>
          <th>Problem</th>
          <th>Problem Description</th>
          <th>Solution</th>
          <th>Efficiency</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>topological sort</td>
          <td>Find an ordering of vertices that respects edges of our DAG.</td>
          <td><a href="https://docs.google.com/presentation/d/1UHVEYtQhV7EQ74ETn5MvCsnRzsCzmp3MvXL84hXbw-g/edit#slide=id.g2680cad2009_0_18">Demo</a>Topological.java</td>
          <td>O(V+E) timeΘ(V) space</td>
      </tr>
  </tbody>
</table>
<p>DAG: directed acyclic graph</p>
<h3 id="142shortest-paths-on-dags">14.2.Shortest Paths on DAGs</h3>
<p>When you want to find the shortest path in a graph, you might use Dijkstra algorithm, but it might fail if we allow negative edges.</p>
<ul>
<li>For example, below we see Dijkstra’s just before vertex C is visited.</li>
<li>Relaxation on E succeeds, but distance to F will never be updated.</li>
</ul>
<img src="/image-20241231092413326.png" alt="image-20241231092413326" style="zoom:50%;" />
<p>How to imply a feasible algorithm to find the shortest path in a graph with negative edges.</p>
<p>One simple idea: Visit vertices in topological order.</p>
<ul>
<li>On each visit, relax all outgoing edges.</li>
<li>Each vertex is visited only when all possible info about it has been used!</li>
</ul>
<img src="/image-20241231093030345.png" alt="image-20241231093030345" style="zoom:50%;" />
<p>Visit vertices in topological order.(From left to right)</p>
<ul>
<li>When we visit a vertex: relax all of its going edges.</li>
<li>Runtime for step 2 is also O(V + E).</li>
</ul>
<table>
  <thead>
      <tr>
          <th>Problem</th>
          <th>Problem Description</th>
          <th>Solution</th>
          <th>Efficiency</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>topological sort</td>
          <td>Find an ordering of vertices that respects edges of our DAG.</td>
          <td><a href="https://docs.google.com/presentation/d/1UHVEYtQhV7EQ74ETn5MvCsnRzsCzmp3MvXL84hXbw-g/edit#slide=id.g2680cad2009_0_18">Demo</a>Code: Topological.java</td>
          <td>O(V+E) timeΘ(V) space</td>
      </tr>
      <tr>
          <td>DAG shortest paths</td>
          <td>Find a shortest paths tree on a DAG.</td>
          <td><a href="https://docs.google.com/presentation/d/1UHVEYtQhV7EQ74ETn5MvCsnRzsCzmp3MvXL84hXbw-g/edit#slide=id.g239d0c7562c_1_0">Demo</a>Code: <a href="https://algs4.cs.princeton.edu/44sp/AcyclicSP.java">AcyclicSP.java</a></td>
          <td>O(V+E) timeΘ(V) space</td>
      </tr>
  </tbody>
</table>
<h3 id="143longest-paths">14.3.Longest Paths</h3>
<p>Consider the problem of finding the longest path tree (LPT) from s to every other vertex. The path must be simple (no cycles!).</p>
<p>Some surprising facts:</p>
<ul>
<li>Best known algorithm is exponential (extremely bad).</li>
<li>Perhaps the most important unsolved problem in mathematics.</li>
</ul>
<p>Question: Solve the LPT problem on a directed acyclic graph. Algorithm must be O(E + V) runtime.</p>
<img src="/image-20241231095203506.png" alt="image-20241231095203506" style="zoom:50%;" />
<ul>
<li>Form a new copy of the graph G’ with signs of all edge weights flipped.</li>
<li>Run DAGSPT on G’ yielding result X.</li>
<li>Flip signs of all values in X.distTo. X.edgeTo is already correct.</li>
</ul>
<img src="/image-20241231094054743.png" alt="image-20241231094054743" style="zoom:50%;" />
<h3 id="144reductions-definition">14.4.Reductions: Definition</h3>
<p>The problem solving we just used probably felt a little different than usual:</p>
<ul>
<li>
<p>Given a graph G, we created a new graph G’ and fed it to a related (but different) algorithm, and then interpreted the result.</p>
</li>
<li>
<p>Since DAG-SPT can be used to solve DAG-LPT, we say that “DAG-LPT reduces to DAG-SPT”.</p>
<blockquote>
<p>“If any subroutine for task Q can be used to solve P, we say P reduces to Q.”</p>
</blockquote>
</li>
</ul>
<p><img src="/p/cs61b%E7%AC%94%E8%AE%B0/image-20241231095256586.png" alt="image-20241231095256586"></p>
<h2 id="15tries">15.Tries</h2>
<img src="/image-20250117170317617.png" alt="image-20250117170317617" style="zoom:50%;" />
<p>For String keys, we can use a “Trie”. Key ideas:</p>
<ul>
<li>Every node stores only one letter.</li>
<li>Nodes can be shared by multiple keys.</li>
</ul>
<img src="/image-20250117172451357.png" alt="image-20250117172451357" style="zoom: 50%;" />
<p>Above, we show the results of adding “sam”,&ldquo;a&rdquo;, &ldquo;sap&rdquo;, &ldquo;same&rdquo; and sad”.</p>
<p>Two ways to have a search “miss”:</p>
<ul>
<li>If the final node is white.</li>
<li>If we fall off the tree, e.g. contains(“sax”).</li>
</ul>
<p><img src="/p/cs61b%E7%AC%94%E8%AE%B0/image-20250117173106464.png" alt="image-20250117173106464"></p>
<h3 id="151trie-implementation-and-performance">15.1.Trie Implementation and Performance</h3>
<p>The first approach might look something like the code below.</p>
<ul>
<li>Each node stores a letter, a map from c to all child nodes, and a color.</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-Java" data-lang="Java"><span class="line"><span class="cl"><span class="w"> </span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">TrieSet</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">R</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">128</span><span class="p">;</span><span class="w"> </span><span class="c1">// ASCII</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="kd">private</span><span class="w"> </span><span class="n">Node</span><span class="w"> </span><span class="n">root</span><span class="p">;</span><span class="w">	</span><span class="c1">// root of trie</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Node</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">ch</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="n">isKey</span><span class="p">;</span><span class="w">   
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">DataIndexedCharMap</span><span class="o">&lt;</span><span class="n">Node</span><span class="o">&gt;</span><span class="w"> </span><span class="n">next</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="nf">Node</span><span class="p">(</span><span class="kt">char</span><span class="w"> </span><span class="n">c</span><span class="p">,</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">R</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">       </span><span class="n">ch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">c</span><span class="p">;</span><span class="w"> </span><span class="n">isKey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">       </span><span class="n">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">DataIndexedCharMap</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="n">R</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w"> 
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>Each DataIndexedCharMap is an array of 128 possible links, mostly null.</p>
<img src="/image-20250117173513915.png" alt="image-20250117173513915" style="zoom:33%;" />
<p>If we use a DataIndexedCharMap to track children, every node has R links.</p>
<p>Observation: The letter stored inside each node is actually redundant.</p>
<ul>
<li>Can remove from the representation and things will work fine.</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-Java" data-lang="Java"><span class="line"><span class="cl"><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">TrieSet</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">R</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">128</span><span class="p">;</span><span class="w"> </span><span class="c1">// ASCII</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="kd">private</span><span class="w"> </span><span class="n">Node</span><span class="w"> </span><span class="n">root</span><span class="p">;</span><span class="w">	</span><span class="c1">// root of trie</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Node</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="cm">/*private char ch;*/</span><span class="w">  
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="n">isKey</span><span class="p">;</span><span class="w">   
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">DataIndexedCharMap</span><span class="o">&lt;</span><span class="n">Node</span><span class="o">&gt;</span><span class="w"> </span><span class="n">next</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="nf">Node</span><span class="p">(</span><span class="cm">/*char c*/</span><span class="p">,</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">R</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">       </span><span class="cm">/*ch = c*/</span><span class="p">;</span><span class="w"> </span><span class="n">isKey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">       </span><span class="n">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">DataIndexedCharMap</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="n">R</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><table>
  <thead>
      <tr>
          <th></th>
          <th>key type</th>
          <th>get(x)</th>
          <th>add(x)</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>Balanced BST</td>
          <td>comparable</td>
          <td>Θ(log N)</td>
          <td>Θ(log N)</td>
      </tr>
      <tr>
          <td>Resizing Separate Chaining Hash Table</td>
          <td>hashable</td>
          <td>Θ(1)assuming even spread</td>
          <td>Θ(1)on average,assuming even spread</td>
      </tr>
      <tr>
          <td>data indexed array</td>
          <td>chars</td>
          <td>Θ(1)</td>
          <td>Θ(1)</td>
      </tr>
      <tr>
          <td>Tries</td>
          <td>Strings</td>
          <td>Θ(1)</td>
          <td>Θ(1)</td>
      </tr>
  </tbody>
</table>
<p>One downside of the DataIndexedCharMap-based Trie is the huge memory cost of storing R links per node.</p>
<ul>
<li>Wasteful because most links are unused in real world usage.</li>
</ul>
<h3 id="152alternate-child-tracking-strategies">15.2.Alternate Child Tracking Strategies</h3>
<p>Using a DataIndexedCharMap is very memory hungry.</p>
<ul>
<li>Every node has to store R links, most of which are null.</li>
</ul>
<p>Can use ANY kind of map from character to node, e.g.</p>
<ul>
<li>
<p>BST</p>
<img src="/image-20250117174824070.png" alt="image-20250117174824070" style="zoom:25%;" />
</li>
<li>
<p>Hash Table</p>
</li>
</ul>
<img src="/image-20250117174848233.png" alt="image-20250117174848233" style="zoom:25%;" />
<p>When our keys are strings, Tries give us slightly better performance on contains and add.</p>
<ul>
<li>Using BST or Hash Table will be slightly slower, but more memory efficient.</li>
<li>Would have to do computational experiments to see which is best for your application.</li>
<li>But where Tries really shine is their efficiency with special string operations!</li>
</ul>
<h3 id="153trie-string-operations">15.3.Trie String Operations</h3>
<p>Theoretical asymptotic speed improvement is nice. But the <strong>main appeal of tries</strong> is their ability to efficiently support string specific operations like <strong>prefix matching</strong>.</p>
<ul>
<li>Finding all keys that match a given prefix: keysWithPrefix(&ldquo;sa&rdquo;)</li>
<li>Finding longest prefix of: longestPrefixOf(&ldquo;sample&rdquo;)</li>
</ul>
<h3 id="154autocomplete">15.4.Autocomplete</h3>
<p>Example, when I type “how are” into Google, I get 10 results.</p>
<p>One way to do this is to create a Trie based map from strings to values</p>
<ul>
<li>Value represents how important Google thinks that string is.</li>
<li>Can store billions of strings efficiently since they share nodes.</li>
<li>When a user types in a string “hello”, we:
<ul>
<li>Call keysWithPrefix(&ldquo;hello&rdquo;).</li>
<li>Return the 10 strings with the highest value.</li>
</ul>
</li>
</ul>
<h2 id="16basic-sorts">16.Basic Sorts</h2>
<h3 id="161selection-sort">16.1.Selection Sort</h3>
<p>The logic:</p>
<ul>
<li>Start from the first element.</li>
<li>Find smallest item after it.</li>
<li>Swap this item to the front and ‘fix’ it.</li>
<li>Repeat for unfixed items until all items are fixed.</li>
</ul>
<p>Sort Properties:</p>
<ul>
<li>$Θ(N^2)$ time if we use an array (or similar data structure).</li>
</ul>
<h3 id="162inplace-heapsort">16.2.Inplace Heapsort</h3>
<p>Idea: Instead of rescanning entire array looking for minimum, maintain a heap so that getting the minimum is fast!</p>
<p>For reasons that will become clear soon, we’ll use a max-oriented heap.</p>
<p>Naive heapsorting N items:</p>
<ul>
<li>Insert all items into a max heap, and discard input array. Create output array.</li>
<li>Repeat N times:
<ul>
<li>Delete largest item from the max heap.</li>
<li>Put largest item at the end of the unused part of the output array.</li>
</ul>
</li>
</ul>
<p>Heap sorting N items:</p>
<ul>
<li>Use a process known as <a href="https://docs.google.com/presentation/d/1SzcQC48OB9agStD0dFRgccU-tyjD6m3esrSC-GLxmNc/edit#slide=id.g463de7561_042">“bottom-up heapification”</a> to convert the array into a heap.</li>
<li>Repeat N times:
<ul>
<li>Delete largest item from front of the heap.</li>
<li>Put largest item at the end of the unused part of the array.</li>
</ul>
</li>
</ul>
<table>
  <thead>
      <tr>
          <th></th>
          <th>Best Case Runtime</th>
          <th>Worst Case Runtime</th>
          <th>Space</th>
          <th>Demo</th>
          <th>Notes</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><a href="http://algs4.cs.princeton.edu/21elementary/Selection.java.html">Selection Sort</a></td>
          <td>$Θ(N^2)$</td>
          <td>$Θ(N^2)$</td>
          <td>$Θ(1)$</td>
          <td><a href="https://docs.google.com/presentation/d/1aleYBt-L8bwyaxw9tXPN3bMI5XxWxmpgfvvSEo9KxD0/edit#slide=id.g25f59ced8fc_0_506">Link</a></td>
          <td></td>
      </tr>
      <tr>
          <td><a href="http://algs4.cs.princeton.edu/24pq/Heap.java.html">Heapsort</a> (in place)</td>
          <td>$Θ(N)$</td>
          <td>$Θ(N \log N)$</td>
          <td>$Θ(1)$</td>
          <td><a href="https://docs.google.com/presentation/d/1aleYBt-L8bwyaxw9tXPN3bMI5XxWxmpgfvvSEo9KxD0/edit#slide=id.g25f59ced8fc_0_1645">Link</a></td>
          <td>Bad cache (61C) performance.</td>
      </tr>
  </tbody>
</table>
<h2 id="17mergesort-insertion-sort-and-quicksort">17.Mergesort, Insertion Sort, and Quicksort</h2>
<img src="/image-20250117182506934.png" alt="image-20250117182506934" style="zoom:33%;" />
<p>Merging can give us an improvement over vanilla selection sort:</p>
<ul>
<li>Selection sort the left half: Θ(N2).</li>
<li>Selection sort the right half: Θ(N2).</li>
<li>Merge the results: Θ(N).</li>
</ul>
<p>Runtime is still Θ(N2), but faster since N+2*(N/2)2 &lt; N2</p>
<p>Mergesort has worst case runtime = Θ(N log N).</p>
<ul>
<li>Every level takes ~N AU.
<ul>
<li>Top level takes ~N AU.</li>
<li>Next level takes ~N/2 + ~N/2 = ~N.</li>
<li>One more level down: ~N/4 + ~N/4 + ~N/4 + ~N/4 = ~N.</li>
</ul>
</li>
<li>Thus, total runtime is ~Nk, where k is the number of levels.
<ul>
<li>How many levels? Goes until we get to size 1.</li>
<li>k = log2(N).</li>
</ul>
</li>
<li>Overall runtime is Θ(N log N).</li>
</ul>
<p>Mergesort:</p>
<ul>
<li>Split items into 2 roughly even pieces.</li>
<li>Mergesort each half (steps not shown, this is a recursive algorithm!)</li>
<li>Merge the two sorted halves to form the final result.</li>
<li>Also possible to do in-place merge sort, but algorithm is very complicated, and runtime performance suffers by a significant constant factor.</li>
</ul>
<table>
  <thead>
      <tr>
          <th></th>
          <th>Best Case Runtime</th>
          <th>Worst Case Runtime</th>
          <th>Space</th>
          <th>Demo</th>
          <th>Notes</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><a href="http://algs4.cs.princeton.edu/21elementary/Selection.java.html">Selection Sort</a></td>
          <td>Θ(N2)</td>
          <td>Θ(N2)</td>
          <td>Θ(1)</td>
          <td><a href="https://docs.google.com/presentation/d/1MqmOxfh1c6gS4hk9hvuRR_hWXWTnCIXMqLGXwRX4Pvk/edit#slide=id.g26d398489b6_4_1032">Link</a></td>
          <td></td>
      </tr>
      <tr>
          <td><a href="http://algs4.cs.princeton.edu/24pq/Heap.java.html">Heapsort</a> (in place)</td>
          <td>Θ(N)*</td>
          <td>Θ(N log N)</td>
          <td>Θ(1)**</td>
          <td><a href="https://docs.google.com/presentation/d/1MqmOxfh1c6gS4hk9hvuRR_hWXWTnCIXMqLGXwRX4Pvk/edit#slide=id.g26d398489b6_4_1033">Link</a></td>
          <td>Bad cache (61C) performance.</td>
      </tr>
      <tr>
          <td><a href="http://algs4.cs.princeton.edu/14analysis/Mergesort.java.html">Mergesort</a></td>
          <td>Θ(N log N)</td>
          <td>Θ(N log N)</td>
          <td>Θ(N)</td>
          <td><a href="https://docs.google.com/presentation/d/1MqmOxfh1c6gS4hk9hvuRR_hWXWTnCIXMqLGXwRX4Pvk/edit#slide=id.g26d398489b6_4_303">Link</a></td>
          <td>Faster than heap sort.</td>
      </tr>
  </tbody>
</table>
<h3 id="171naive-insertion-sort--and-in-place-insertion-sort">17.1.Naive Insertion Sort  and In-Place Insertion Sort</h3>
<p>Naive Insertion Sort</p>
<p>General strategy:</p>
<ul>
<li>Starting with an empty output sequence.</li>
<li>Add each item from input, inserting into output at right point.</li>
</ul>
<p>In-Place Insertion Sort</p>
<ul>
<li>General strategy:
<ul>
<li>Repeat for i = 0 to N - 1:
<ul>
<li>Designate item i as the traveling item.</li>
<li>Swap item backwards until traveler is in the right place among all previously examined items.</li>
</ul>
</li>
</ul>
</li>
</ul>
<table>
  <thead>
      <tr>
          <th></th>
          <th>Best Case Runtime</th>
          <th>Worst Case Runtime</th>
          <th>Space</th>
          <th>Demo</th>
          <th>Notes</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><a href="http://algs4.cs.princeton.edu/21elementary/Selection.java.html">Selection Sort</a></td>
          <td>Θ(N2)</td>
          <td>Θ(N2)</td>
          <td>Θ(1)</td>
          <td><a href="https://docs.google.com/presentation/d/1MqmOxfh1c6gS4hk9hvuRR_hWXWTnCIXMqLGXwRX4Pvk/edit#slide=id.g25e3164fbfa_0_1160">Link</a></td>
          <td></td>
      </tr>
      <tr>
          <td><a href="http://algs4.cs.princeton.edu/24pq/Heap.java.html">Heapsort</a> (in place)</td>
          <td>Θ(N)*</td>
          <td>Θ(N log N)</td>
          <td>Θ(1)</td>
          <td><a href="https://docs.google.com/presentation/d/1MqmOxfh1c6gS4hk9hvuRR_hWXWTnCIXMqLGXwRX4Pvk/edit#slide=id.g25e3164fbfa_0_1161">Link</a></td>
          <td>Bad cache (61C) performance.</td>
      </tr>
      <tr>
          <td><a href="http://algs4.cs.princeton.edu/14analysis/Mergesort.java.html">Mergesort</a></td>
          <td>Θ(N log N)</td>
          <td>Θ(N log N)</td>
          <td>Θ(N)</td>
          <td><a href="https://docs.google.com/presentation/d/1MqmOxfh1c6gS4hk9hvuRR_hWXWTnCIXMqLGXwRX4Pvk/edit#slide=id.g25e3164fbfa_0_1162">Link</a></td>
          <td>Fastest of these.</td>
      </tr>
      <tr>
          <td><a href="http://algs4.cs.princeton.edu/21elementary/Insertion.java.html">Insertion Sort</a> (in place)</td>
          <td>Θ(N)</td>
          <td>Θ(N2)</td>
          <td>Θ(1)</td>
          <td><a href="https://docs.google.com/presentation/d/1MqmOxfh1c6gS4hk9hvuRR_hWXWTnCIXMqLGXwRX4Pvk/edit#slide=id.g25e3164fbfa_0_243">Link</a></td>
          <td>Best for small N or almost sorted.</td>
      </tr>
  </tbody>
</table>
<h2 id="18-partition-sort-aka-quicksort">18. Partition Sort, a.k.a. Quicksort</h2>
<p>To partition an array a[] on element x=a[i] is to rearrange a[] so that:</p>
<ul>
<li>x moves to position j (may be the same as i)</li>
<li>All entries to the left of x are &lt;= x.</li>
</ul>
<p>All entries to the right of x are &gt;= x</p>
<img src="/image-20250117203716707.png" alt="image-20250117203716707" style="zoom:33%;" />
<p>Observations:</p>
<ul>
<li>5 is “in its place.” Exactly where it’d be if the array were sorted.</li>
<li>Can sort two halves separately, e.g. through recursive use of partitioning.</li>
</ul>
<p>Quick sorting N items:</p>
<ul>
<li>Partition on leftmost item.</li>
<li>Quicksort left half.</li>
<li>Quicksort right half.</li>
</ul>
<h3 id="181runtime">18.1.Runtime</h3>
<p>Theoretical analysis:</p>
<ul>
<li>Partitioning costs Θ(K) time, where Θ(K) is the number of elements being partitioned (as we saw in our earlier “interview question”).</li>
<li>The interesting twist: Overall runtime will depend crucially on where pivot ends up.</li>
</ul>
<ol>
<li>Best Case: Pivot Always Lands in the Middle</li>
</ol>
<img src="/image-20250117204229872.png" alt="image-20250117204229872" style="zoom:33%;" />
<p>Overall runtime:</p>
<p>Θ(NH) where H = Θ(log N)</p>
<p>so: Θ(N log N)</p>
<ol start="2">
<li>Worst Case: Pivot Always Lands at Beginning of Array</li>
</ol>
<img src="/image-20250117204334127.png" alt="image-20250117204334127" style="zoom:33%;" />
<p>What is the runtime Θ(∙)?</p>
<ul>
<li>$N^2$</li>
<li>but overall, the runtime is roughly $\Theta(\log N)$</li>
</ul>
<h3 id="182avoiding-quicksort-worst-case">18.2.<strong>Avoiding Quicksort Worst Case</strong></h3>
<p>What can we do to avoid worst case behavior? Four philosophies:</p>
<ol>
<li><strong>Randomness</strong>: Pick a random pivot or shuffle before sorting.</li>
<li><strong>Smarter pivot selection</strong>: Calculate or approximate the median.</li>
<li><strong>Introspection</strong>: Switch to a safer sort if recursion goes to deep.</li>
<li><strong>Try to cheat</strong>: If the array is already sorted, don’t sort (this doesn’t work).</li>
</ol>
<p>Implement: Create L and G pointers at left and right ends.</p>
<ul>
<li>L pointer is a friend to small items, and hates large or equal items.</li>
<li>G pointer is a friend to large items, and hates small or equal items.</li>
<li>Walk pointers towards each other, stopping on a hated item.
<ul>
<li>When both pointers have stopped, swap and move pointers by one.</li>
</ul>
</li>
<li>When pointers cross, you are done. See <a href="https://docs.google.com/presentation/d/11vRyW0ZPrsxUhRHCBgkygy01PlL1amB66n9FZQN03wo/edit#slide=id.g25f68bd1986_0_4">This site</a></li>
</ul>
<h2 id="19-software-engineering">19. Software Engineering</h2>
<p>There are two kinds of complexity:</p>
<ol>
<li>Unavoidable (Essential) Complexity
<ol>
<li>Inherent, inescapable complexity caused by the underlying functionality</li>
</ol>
</li>
<li>Avoidable Complexity
<ol>
<li>Complexity that we can address with our choices</li>
</ol>
</li>
</ol>
<p>In response to avoidable complexity, we can:</p>
<ol>
<li>Make code simpler and more obvious</li>
<li>Using sentinel nodes in Project 1</li>
<li>Modules
<ul>
<li>Abstraction: the ability to use a piece without understanding how it works based on some specification</li>
<li>Interfaces - HashMap, BSTMap both are Maps</li>
</ul>
</li>
</ol>
<h3 id="191-strategic-vs-tactical-programming">19.1. Strategic vs Tactical Programming</h3>
<p>A different form of programming that emphasizes long term strategy over quick fixes. The objective is to write code that works <em>elegantly</em> - at the cost of planning time.</p>
<p>Code should be:</p>
<ul>
<li>Maintainable</li>
<li>Simple</li>
<li>Future-proof</li>
</ul>
<p>If the strategy is insufficient, go back to the drawing board before continuing work.</p>
<h3 id="192-design">19.2. Design</h3>
<p>Design is an important first stage in development:</p>
<ul>
<li>Ensures consideration of all requirements and constraints</li>
<li>Considers multiple alternatives and their advantages / disadvantages</li>
<li>Identifies potential costs or pitfalls while change is cheap</li>
<li>Allows multiple minds to weigh in and leverages diverse perspectives</li>
</ul>
<p>Design documents do not need to follow a specific form, but they should give the reader easily accessible information about your project.</p>
<p>A design document should:</p>
<ul>
<li>Quickly bring the reader up to speed</li>
<li>Include what alternatives were considered and why the trade-offs were made</li>
<li>Be just as much about the “why” as it is about the “how”</li>
<li>Update as the project progresses (be alive!)</li>
<li>Look up <a href="https://sp21.datastructur.es/materials/proj/proj2/design.html">THIS SITE</a></li>
</ul>
<h3 id="193-managing-complexity">19.3. Managing Complexity</h3>
<p>What is “good code”? Three main goals:</p>
<ul>
<li>Readability: The code is easy to read and understand.</li>
<li>Simplicity: The solution is straightforward, without unnecessary complexity</li>
<li>Testability: The code is easy to test and debug.</li>
</ul>
<h3 id="194-documentation">19.4. Documentation</h3>
<ul>
<li><strong>Documentation</strong> in technology refers to various written materials that accompany software or systems</li>
<li>It covers a broad spectrum, including:
<ul>
<li>Code Comments</li>
<li>API Documentation</li>
<li>User Manuals</li>
<li>Design Specifications</li>
<li>Test Documents</li>
</ul>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-Java" data-lang="Java"><span class="line"><span class="cl"><span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">* Moves the player to a specified location within the game world.
</span></span></span><span class="line"><span class="cl"><span class="cm">* Validates the destination and checks for bounds.
</span></span></span><span class="line"><span class="cl"><span class="cm">*
</span></span></span><span class="line"><span class="cl"><span class="cm">* @param x The x-coordinate of the destination (horizontal position).
</span></span></span><span class="line"><span class="cl"><span class="cm">* @param y The y-coordinate of the destination (vertical position).
</span></span></span><span class="line"><span class="cl"><span class="cm">* @return &#39;true&#39; if the move is successful, &#39;false&#39; otherwise.
</span></span></span><span class="line"><span class="cl"><span class="cm">* @throws OutOfBoundsException if coordinates are outside the world.
</span></span></span><span class="line"><span class="cl"><span class="cm">* @usage To move the player to (5, 10), call movePlayer(5, 10).
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">movePlayer</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">y</span><span class="p">)</span><span class="w"> </span><span class="p">{...}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div></article>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>
</div>
<script type="application/javascript" src='https://Timlin15.github.io/js/toc.js'></script>
<link rel="stylesheet" href='https://Timlin15.github.io/css/toc.css' />

  
</div>

  <div class="footer container-xl width-full p-responsive">
  <div
    class="position-relative d-flex flex-row-reverse flex-lg-row flex-wrap flex-lg-nowrap flex-justify-center flex-lg-justify-between flex-sm-items-center pt-6 pb-2 mt-6 f6 text-gray border-top border-gray-light ">
    <a aria-label="Homepage" title="GitHub" class="footer-octicon d-none d-lg-block mr-lg-4" href="https://Timlin15.github.io/">
      <svg height="24" class="octicon octicon-mark-github" viewBox="0 0 16 16" version="1.1" width="24">
        <path fill-rule="evenodd"
          d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z">
        </path>
      </svg>
    </a>
    <ul class="list-style-none d-flex flex-wrap col-12 flex-justify-center flex-lg-justify-between mb-2 mb-lg-0">
      
      <li class="mr-3 mr-lg-0">Lin</li>
      
      <li class="mr-3 mr-lg-0">GitHub and the Invertocat logo are trademarks of <a href="https://github.com/">GitHub, Inc.</a></li>
    </ul>
  </div>
  <div class="d-flex flex-justify-center pb-6">
    <span class="f6 text-gray-light"></span>
  </div>


</div>

</body>

<script type="application/javascript" src="https://Timlin15.github.io/js/github-style.js"></script>





<script src="https://cdn.jsdelivr.net/npm/fuse.js/dist/fuse.min.js"></script>
<script type="application/javascript" src='https://Timlin15.github.io/js/search.js'></script>



</html>